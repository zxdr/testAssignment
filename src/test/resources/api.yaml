openapi: 3.0.0
info:
  description: Спецификация Omnicomm API
  version: 1.3.3
  title: Omnicomm API specification

servers:
  - url: https://online.omnicomm.ru

tags:
  - name: Authorization
  - name: Users
  - name: Vehicles
  - name: Geozones
  - name: Reports
  - name: Notifications
  - name: VideoService
  - name: Nfuel
  - name: FuelCards

paths:
  # fes
  /auth/login:
    post:
      security: [ ]
      tags:
        - Authorization
      summary: 'Возвращает токен jwt, включающий пользовательские права на определенный логин'
      description: >-
        Возвращает jwt с активной сессией и правами пользователя на объекты системы
      parameters:
        - name: jwt
          in: query
          schema:
            type: integer
          example: '1'
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/loginParameters'
        required: true
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/loginResponce'

  /auth/refresh:
    post:
      tags:
        - Authorization
      summary: 'Возвращает новый jwt с правами пользователя на определенный логин'
      description: >-
        Возвращает новый jwt с активной сессией и правами пользователя на объекты системы
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/loginResponce'

  # users
  /ls/api/v1/users:
    get:
      tags:
        - Users
      summary: 'Получение списка пользователей'
      description: >-
        Получение списка пользователей
      parameters:
        - in: query
          name: page
          description: 'номер страницы'
          schema:
            type: integer
        - in: query
          name: pageSize
          description: 'размер страницы'
          schema:
            type: integer
        - in: query
          name: filter
          description: |-
            фильтр пользователей по логину, имени или наименованию клиента
          schema:
            type: string
      responses:
        200:
          description: 'Возвращаемые данные'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/users'

    post:
      tags:
        - Users
      summary: 'Добавить нового пользователя'
      description: >-
        Добавление пользователя
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/user'
                - type: object
                  properties:
                    password:
                      description: |-
                        Пароль добавляемого пользователя ОО  
                        Ограничение: Регулярное выражение - [a-zA-Z0-9\\-_]{7,20}  
                        Пароль является регистрозависимым, т.е. заглавные и строчные буквы алфавита различаются.
                      type: string
                    createVehicleGroup:
                      description: |-
                        Признак создания корневой группы ТС.  
                        по умолчанию = true - при создании пользователя для него будет создана корневая группа ТС  
                        Если одновременно указаны createVehicleGroup и vehiclegroup_id, в качестве корневой будет установлена группа vehiclegroup_id, а признак createVehicleGroup игнорируется
                      type: boolean
                    createGeozoneGroup:
                      description: |-
                        Признак создания корневой группы геозон.  
                        по умолчанию = true - при создании пользователя для него будет создана корневая группа геозон  
                        Если одновременно указаны createGeozoneGroup и geozonegroup_id, в качестве корневой будет установлена группа geozonegroup_id, а признак createGeozoneGroup игнорируется
                      type: boolean
                    createDriverGroup:
                      description: |-
                        Признак создания корневой группы водителей.  
                        по умолчанию = true - при создании пользователя для него будет создана корневая группа водителей  
                        Если одновременно указаны createDriverGroup и drivergroup_id, в качестве корневой будет установлена группа drivergroup_id, а признак createDriverGroup игнорируется
                      type: boolean
                    createRouteGroup:
                      description: |-
                        Признак создания корневой группы маршрутов.  
                        по умолчанию = true - при создании пользователя для него будет создана корневая группа маршрутов  
                        Если одновременно указаны createRouteGroup и routegroup_id, в качестве корневой будет установлена группа routegroup_id, а признак createRouteGroup игнорируется
                      type: boolean
              example: #Создание пользователя и группы ТС по умолчанию
                login: newuser1
                client_name: Название клиента
                name: Наименование пользователя
                password: "sEcret_1-2-3"
                permissions: [ autocheck.access, ase.reports.map2, ase.reports.location, ase.reports.speed, ase.reportvisibility, ase.userreportscontrol, ase.groups.vehicle.full, ase.groups.driver.full, ase.groups.geozone.full, ase.groups.route.full ]
                is_client: true
      responses:
        200:
          description: 'Возвращаемые данные'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/user'
                  - type: object
                    properties:
                      uuid:
                        description: |-
                          Идентификатор (UUID) пользователя Omnicomm Online
                        type: string
                        format: uuid

  /ls/api/v1/users/{uuid}:
    delete:
      tags:
        - Users
      summary: 'Удалить пользователя'
      description: >-
        Удаление пользователя
      parameters:
        - in: path
          name: uuid
          description: |-
            Идентификатор (UUID) пользователя Omnicomm Online
          schema:
            type: string
          required: true
      responses:
        200:
          description: 'OK'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 0
                  message: success
        400:
          description: 'Некорректный формат UUID'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 3
                  message: UUID format error
        403:
          description: 'Нет прав'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 1
                  message: Access denied
        404:
          description: 'Пользователья не найден'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 2
                  message: No such user

  /ls/api/v1/users/blocking:
    post:
      tags:
        - Users
      summary: 'Изменение параметров блокировки пользователя'
      description: >-
        Изменение параметров блокировки пользователя. Параметры блокировки пользователя с указанным в теле запроса login изменяются, если у актора есть права на этого пользователя
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/blockingStatus'
      responses:
        200:
          description: 'Возвращаемые данные'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/blockingStatus'
        403:
          description: 'Нет прав'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 1
                  message: Access denied
        404:
          description: 'Пользователь не найден'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 2
                  message: User login not found
        400:
          description: 'Не указан обязательный параметр'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 3
                  message: Required parameter is missing
    get:
      tags:
        - Users
      summary: 'Получение параметров блокировки пользователя'
      description: >-
        Получение параметров блокировки пользователя. Возвращаются данные о блокировке пользователя с указанным login
      parameters:
        - in: query
          name: login
          description: 'логин пользователя'
          schema:
            type: string
          required: true
      responses:
        200:
          description: 'Возвращаемые данные'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/blockingStatus'
        403:
          description: 'Нет прав'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 1
                  message: Access denied
        404:
          description: 'Пользователь не найден'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 2
                  message: User login not found
        400:
          description: 'Не указан обязательный параметр'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 3
                  message: Required parameter is missing


  # vehicles class
  /ls/api/v1/vehicles:
    post:
      tags:
        - Vehicles
      summary: 'Добавить профиль ТС или КО'
      description: >-
        Добавление профиля ТС на основе XML-профиля от конфигуратора или профиля контролируемого объекта в JSON формате
      parameters:
        #        - in: query
        #          name: dateStart
        #          description: Profile effective date, format --- дата начала действия профиля, формат YYYY-MM-DDTHH:MM:SS
        #          schema:
        #            type: string
        #            format: date-time
        - in: query
          name: login
          description: |-
            Логин пользователя.  
            __Обязателен, если не указан vehiclegroup_id__.  
            Если значение передано, профиль добавляется в корневую группу ТС указанного пользователя. Игнорируется, если передан параметр vehiclegroup_id. Все пользователи, имеющие доступ к указанной корневой группе будут иметь доступ к профилю
          schema:
            type: string
        - in: query
          name: vehiclegroup_id
          description: |-
            Идентификатор (UUID) корневой группы транспортных средств.  
            __Обязателен, если не указан login__.  
            Если значение передано, профиль добавляется в указанную группу ТС. Все пользователи, имеющие доступ к указанной корневой группе, будут иметь доступ к профилю
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - $ref: '#/components/schemas/xmlProfile'
                - $ref: '#/components/schemas/jsonProfile'
              example:
                "xmlProfile": ""
      responses:
        200:
          description: 'Возвращаемые данные'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    properties:
                      profile_id:
                        description: 'идентификатор (UUID) профиля'
                        type: string
                        format: uuid

    delete:
      tags:
        - Vehicles
      summary: 'Удаление профиля ТС'
      description: >-
        Удаление профиля ТС
      parameters:
        - in: query
          name: vehicles
          description: Список идентификаторов ТС, профили которых необходимо удалить, указанных в квадратных скобках через запятую
          schema:
            type: string
          required: true
          example:
            [ 1138000897,1138000898,1138000899 ]
        - in: query
          name: reason
          description: |-
            причина удаления профиля ТС  
            1 - перенос в другой аккаунт/переход к другому дилеру  
            2 - отключение от ОО/переход на другую систему мониторинга  
            3 - замена терминала  
            4 - консервация ТС/ремонт ТС  
            5 - дебиторка  
            6 - другое  
            Если не передан, устанавливается 6 - другое
          schema:
            type: integer
            enum: [ 1,2,3,4,5,6 ]
      responses:
        202:
          description: 'Все указанные профили ТС удалены успешно'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    properties:
                      result:
                        type: string
              example:
                status:
                  code: 0
                  message: OK
                result: success
        404:
          description: 'ТС не найдено или на него нет прав'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 1
                  message: "Vehicles not found: 326004538, 326004539"

  /ls/api/v1/activity/vehicles:
    get:
      tags:
        - Vehicles
      summary: Получение дат последнего поступления данных по ТС пользователя
      description: >-
        Получение дат последнего поступления данных по всем ТС, доступным пользователю
      responses:
        "200":
          description: >-
            данные о последней активности ТС пользователя
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      description: Идентификатор терминала
                      type: integer
                    dateID:
                      description: >-
                        Unix time stamp (ms) последнего поступления данных по ТС.  
                         -1, если данные по ТС ещё не поступали
                      type: integer
                      format: int64
                    uuid:
                      description: UUID ТС
                      type: string
                      format: uuid
                example:
                  - id: 1138652108
                    dateID: 1554913864000
                    uuid: a200d83d-6a58-3d0a-berf-68f64d738223
                  - id: 1196012040
                    dateID: 1557315303000
                    uuid: 7d3f8b4e-c6f1-3a7a-a48d-6cf489e46226
        default:
          description: непредвиденная ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    post:
      tags:
        - Vehicles
      summary: Получение параметров набора ТС по последним поступившим данным
      description: >-
        Получение основных параметров указанного набора ТС по последним поступившим данным
      requestBody:
        content:
          application/json:
            schema:
              properties:
                ids:
                  description: |-
                    Массив идентификаторов ТС
                  type: array
                  items:
                    type: integer
      responses:
        "200":
          description: >-
            основные параметры набора ТС по последним поступившим данным
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    iconHeight:
                      description: Высота иконки (px)
                      type: integer
                    latitude:
                      description: Широта
                      type: number
                      format: double
                    roamingOn:
                      description: Признак нахождения в роуминге (true - в роуминге, false - не в роуминге)
                      type: boolean
                    speed:
                      description: Скорость (км/ч)
                      type: number
                      format: double
                    regNum:
                      description: Название ТС
                      type: string
                    tanksCount:
                      description: Количество топливных емкостей
                      type: integer
                    bigIconWidth:
                      description: Ширина большой иконки (px)
                      type: integer
                    fuelVolume2:
                      description: Объём топлива во второй емкости (дл)
                      type: number
                    iconURL:
                      description: URL иконки
                      type: string
                    llsCount:
                      description: Количество ДУТ
                      type: integer
                    ignition:
                      description: Состояние зажигания (false - выключено, true - включено)
                      type: boolean
                    regType:
                      description: Тип терминала
                      type: string
                      enum: [ FAS, FTC ]
                    longitude:
                      description: Долгота
                      type: number
                      format: double
                    direction:
                      description: |-
                        Направление (градусы 0-359, 0 - север, 90 - восток, 180 - юг, 270 - запад)
                      type: integer
                    gsmOn:
                      description: Состояние GSM (true - вкл, false - выкл)
                      type: boolean
                    fuelVolume:
                      description: Объём топлива в первой емкости (дл)
                      type: number
                    lastDataDate:
                      description: Дата и время последних валидных данных от терминала с числом спутников более 3. Omnicomm time (Unix timestamp (s) минус 1230768000)
                      type: integer
                    address:
                      description: Адрес
                      type: string
                    discreteOutputStatus:
                      description: Состояние управляющего выхода (true - вкл, false - выкл)
                      type: boolean
                    iconWidth:
                      description: Ширина иконки (px)
                      type: integer
                    engineWork:
                      description: Режим работы двигателя (load - под нагрузкой, idle - холостой ход, "-" - нет данных)
                      type: string
                      enum: [ load, idle, '-' ]
                    useDiscreteOutput:
                      description: Настройка использования управляющего выхода (true - используется, false - не используется)
                      type: boolean
                    gpsDataValid:
                      description: Признак валидности данных GPS (true - валидны, false - невалидны)
                      type: boolean
                    actualDate:
                      description: Дата и время, на которую обработаны данные по ТС (По ТС могут иметься данные, которые поступили в систему, но ещё не обработаны, см. даты eventDate и lastConnDate). Unix timestamp (ms)
                      type: integer
                      format: int64
                    bigIconURL:
                      description: URL большой иконки
                      type: string
                    vehicleID:
                      description: Идентификатор ТС
                      type: integer
                    bigIconHeight:
                      description: Высота большой иконки (px)
                      type: integer
                    eventDate:
                      description: Дата и время из последнего успешно разобранного сообщения от терминала. Omnicomm time (Unix timestamp (s) минус 1230768000)
                      type: integer
                    terminal_id:
                      description: Идентификатор терминала
                      type: integer
                    uuid:
                      description: UUID ТС
                      type: string
                      format: uuid
              example:
                - iconHeight: 37
                  latitude: 56.1538217
                  roamingOn: false
                  speed: 0
                  regNum: 0123УК 86 СУ901
                  tanksCount: 1
                  bigIconWidth: 34
                  fuelVolume2: -10
                  iconURL: location?action=getImage&type=GrayLkp
                  llsCount: 1
                  ignition: true
                  regType: FAS
                  longitude: 37.747505
                  direction: 160
                  gsmOn: false
                  fuelVolume: 1943
                  lastDataDate: 320478126
                  address: "«Дон», Нагибинское сельское поселение, Чертковский район, Ростовская область, Южный федеральный округ, 346023, Россия"
                  discreteOutputStatus: false
                  iconWidth: 29
                  engineWork: load
                  useDiscreteOutput: false
                  gpsDataValid: true
                  actualDate: 1551246126000
                  bigIconURL: location?action=getImage&type=GrayLkpSelected
                  vehicleID: 1138000898
                  bigIconHeight: 41
                  eventDate: 320478126
                  terminal_id: 1138000898
                  uuid: 0f4062e1-0be8-4726-876c-ceeadde82a0b
                - iconHeight: 37
                  latitude: 57.8470731
                  roamingOn: false
                  speed: 42.4
                  regNum: Fort ACH KO
                  tanksCount: 0
                  bigIconWidth: 34
                  fuelVolume2: -10
                  iconURL: location?action=getImage&type=GrayLkp
                  llsCount: 0
                  ignition: true
                  regType: FAS
                  longitude: 114.2026496
                  direction: 305
                  gsmOn: false
                  fuelVolume: -10
                  lastDataDate: 327095319
                  address: "Лензолото, 4, улица Мира, Бодайбо, Бодайбинский район, Иркутская область, Сибирский федеральный округ, 666904, Россия"
                  discreteOutputStatus: false
                  iconWidth: 29
                  engineWork: load
                  useDiscreteOutput: false
                  gpsDataValid: true
                  actualDate: 1557927231000
                  bigIconURL: location?action=getImage&type=GrayLkpSelected
                  vehicleID: 1077987732
                  bigIconHeight: 41
                  eventDate: 327159231
                  terminal_id: 1077987732
                  uuid: 6a242c7f-0a72-3985-abe3-ef8593484214

  /ls/api/v2/activity/vehicles:
    get:
      tags:
        - Vehicles
      summary: Получение дат последнего поступления данных по ТС пользователя
      description: >-
        Получение дат последнего поступления данных по всем ТС, доступным пользователю
      responses:
        "200":
          description: >-
            данные о последней активности ТС пользователя
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      description: Идентификатор терминала
                      type: integer
                    dateID:
                      description: >-
                        Unix time stamp (ms) последнего поступления данных по ТС.  
                         -1, если данные по ТС ещё не поступали
                      type: integer
                      format: int64
                    uuid:
                      description: UUID ТС
                      type: string
                      format: uuid
                    status:
                      description: |-
                        Идентификатор статуса для "светофора"  
                        если status = 0, то серый  
                        если status = 1, то зеленый  
                        если status = 2, то оранжевый  
                        если status = 3, то красный
                      type: integer
                example:
                  - id: 1138652108
                    dateID: 1554913864000
                    uuid: a200d83d-6a58-3d0a-berf-68f64d738223
                    status: 2
                  - id: 1196012040
                    dateID: 1557315303000
                    uuid: 7d3f8b4e-c6f1-3a7a-a48d-6cf489e46226
                    status: 1
                  - id: 1196012040
                    dateID: 1557314300000
                    uuid: 7d3f8b4e-c6f1-3a7a-a48d-6cf489e46226
                    status: 0
        default:
          description: непредвиденная ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /ls/api/v1/vehicles/{id}/state:
    get:
      tags:
        - Vehicles
      summary: Получение состояния ТС
      description: >-
        Показывает состояние ТС по последним полученным данным
      parameters:
        - in: path
          name: id
          description: |-
            идентификатор КО (UUID) или идентификатор терминала
          schema:
            type: string
          required: true
      responses:
        "200":
          description: >-
            данные о состоянии ТС
          content:
            application/json:
              schema:
                type: object
                required:
                  - id
                  - name
                properties:
                  status:
                    description: Статус выполнения операции. True в случае успешной операции
                    type: boolean
                  address:
                    description: Адрес
                    type: string
                  currentFuel:
                    description: Уровень топлива (л). -1, если значение не определено
                    type: number
                  currentIgn:
                    description: Состояние зажигания (false - выключено, true - включено)
                    type: boolean
                  currentSpeed:
                    description: Скорость (км/ч)
                    type: number
                  lastDataDate:
                    description: Дата и время последних данных от терминала Unix timestamp (s)
                    type: integer
                  lastGPS:
                    properties:
                      latitude:
                        description: широта
                        type: number
                      longitude:
                        description: долгота
                        type: number
                  lastGPSDir:
                    description: |-
                      направление (градусы 0-359, 0 - север, 90 - восток, 180 - юг, 270 - запад)
                    type: integer
                  speedExceed:
                    description: Признак превышения порога скорости (false - не превышен, true - превышен)
                    type: boolean
              example:
                status: true
                address: "Свободное сельское поселение, Приморско-Ахтарский район, Краснодарский край, Южный федеральный округ, 353881, Россия"
                currentFuel: 102
                currentIgn: true
                currentSpeed: 5.3
                lastDataDate: 1554913864
                lastGPS:
                  latitude: 45.9464667
                  longitude: 38.3762733
                lastGPSDir: 81
                speedExceed: false
        default:
          description: непредвиденная ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /ls/api/v1/tree/vehicle:
    get:
      tags:
        - Vehicles
      summary: Показывает ТС и дерево групп ТС, доступные пользователю
      description: >-
        Метод предназначен для получения по пользователю перечня ТС с группами ТС в виде дерева.  
        Определяет пользователя по JWT.
      responses:
        "200":
          description: |-
            данные для построения дерева ТС
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TreeGroup-V1"

  /ls/api/v2/tree/vehicle:
    get:
      tags:
        - Vehicles
      summary: Показывает ТС и дерево групп ТС, доступные пользователю
      description: >-
        Метод предназначен для получения по пользователю перечня ТС с группами ТС в виде дерева.  
        Определяет пользователя по JWT.
      responses:
        "200":
          description: |-
            данные для построения дерева ТС
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TreeGroup-V2"

  /ls/api/v1/tree/vehicle/{groupId}:
    get:
      tags:
        - Vehicles
      summary: Показывает ТС и дерево групп ТС по указанному идентификатору группы
      description: >-
        Возвращает дерево ТС и групп ТС, находящихся в указанной группе.
      parameters:
        - in: path
          name: groupId
          description: 'идентификатор (uuid) группы ТС'
          schema:
            type: string
            format: uuid
          required: true
      responses:
        "200":
          description: |-
            данные для построения дерева ТС
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TreeGroup-V1"

  /ls/api/v2/tree/vehicle/{groupId}:
    get:
      tags:
        - Vehicles
      summary: Показывает ТС и дерево групп ТС по указанному идентификатору группы
      description: >-
        Возвращает дерево ТС и групп ТС, находящихся в указанной группе.
      parameters:
        - in: path
          name: groupId
          description: 'идентификатор (uuid) группы ТС'
          schema:
            type: string
            format: uuid
          required: true
      responses:
        "200":
          description: |-
            данные для построения дерева ТС
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TreeGroup-V2"

  /ls/api/v1/tree/vehicle/{groupId}/list:
    get:
      tags:
        - Vehicles
      summary: Показывает ТС по указанному идентификатору группы
      description: >-
        Возвращает список ТС, находящихся в указанной группе.
      parameters:
        - in: path
          name: groupId
          description: 'идентификатор (uuid) группы ТС'
          schema:
            type: string
            format: uuid
          required: true
      responses:
        "200":
          description: |-
            список ТС
          content:
            application/json:
              schema:
                type: object
                properties:
                  objects:
                    $ref: "#/components/schemas/Terminals"

  /ls/api/v2/tree/vehicle/{groupId}/list:
    get:
      tags:
        - Vehicles
      summary: Показывает ТС по указанному идентификатору группы
      description: >-
        Возвращает список ТС, находящихся в указанной группе.
      parameters:
        - in: path
          name: groupId
          description: 'идентификатор (uuid) группы ТС'
          schema:
            type: string
            format: uuid
          required: true
        - in: query
          name: receiveData
          description: 'Фильтр по статусу передачи данных'
          schema:
            type: boolean
      responses:
        "200":
          description: |-
            список ТС
          content:
            application/json:
              schema:
                type: object
                properties:
                  objects:
                    $ref: "#/components/schemas/TerminalsExtended"

  # OVMS
  /service/ovms/api/tasks/list:
    post:
      tags:
        - VideoService
      summary: 'Список задач'
      description: >-
        Получить список заказов видео для данного пользователя
      parameters:
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: 'application/json'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TaskListRequest'
          application/json:
            schema:
              $ref: '#/components/schemas/TaskListRequest'
      responses:
        '200':
          description: >-
            Список заказов
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskListResponse'

  /service/ovms/api/tasks:
    post:
      tags:
        - VideoService
      summary: 'Добавить задание на получение видеофрагмента'
      description: >-
        Добавить задание на получение видеофрагмента
      parameters:
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: 'application/x-www-form-urlencoded'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TaskAddRequest'
          application/json:
            schema:
              $ref: '#/components/schemas/TaskAddRequest'
      responses:
        '200':
          description: |-
            Возвращает TaskAddResponse или ошибку TaskAddError
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskAddResponse'

  /service/ovms/api/tasks/{task_id}:
    get:
      tags:
        - VideoService
      summary: 'Показать детали задания'
      description: >-
        Получение задания пользователя по Task ID
      parameters:
        - in: path
          name: task_id
          required: true
          description: 'id задания'
          schema:
            type: integer
          example: '1'
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: 'application/json'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Task'

    put:
      tags:
        - VideoService
      summary: 'Изменить статус задания'
      description: >-
        Назначенное задание может быть только отменено или поставлено в очередь
      parameters:
        - in: path
          name: task_id
          required: true
          description: 'id задания'
          schema:
            type: integer
            example: 1
          example: 1
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: 'application/json'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              required:
                - status
              type: object
              properties:
                status:
                  type: string
                  enum: [ queued, canceled ]
                  example: 'queued'
      responses:
        '200':
          description: ''
          content:
            text/plain:
              schema:
                $ref: '#/components/schemas/Task'

    delete:
      tags:
        - VideoService
      summary: 'Удалить задание'
      description: >-
        Удалить задание. Задание помечается как удаленное и удаляются файлы если есть.
      parameters:
        - in: path
          name: task_id
          required: true
          description: 'id задания'
          schema:
            type: integer
          example: '1'
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: 'application/json'
      responses:
        '200':
          description: ''

  /service/ovms/api/profiles/{profile_id}:
    get:
      tags:
        - VideoService
      summary: 'Показать параметры профиля видео'
      description: >-
        Просмотр перечня параметров профиля видео
      parameters:
        - in: path
          name: profile_id
          required: true
          description: id профиля
          schema:
            type: integer
          example: '1'
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: 'application/json'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'

    put:
      tags:
        - VideoService
      summary: 'Изменить параметры профиля видео'
      description: >-
        Изменение профиля пользователем
      parameters:
        - in: path
          name: profile_id
          required: true
          description: id профиля
          schema:
            type: integer
          example: '1'
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: 'application/json'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ProfileAddRequest'
          application/json:
            schema:
              $ref: '#/components/schemas/ProfileAddRequest'
      responses:
        '200':
          description: 'Профиль'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'

  /service/ovms/api/profiles:
    get:
      tags:
        - VideoService
      summary: 'Доступный пользователю видео профиль по указанному терминалу'
      description: >-
        Получить доступный для пользователя видео профиль по данному ID терминала
      parameters:
        - name: reg_id
          in: query
          description: Id терминала
          required: true
          schema:
            type: integer
          example: '346000001'
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: 'application/json'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Profile'

    post:
      tags:
        - VideoService
      summary: 'Перечень видео профилей'
      description: >-
        Получить список видео профилей ТС пользователя
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Profile'

  /service/ovms/api/rules/list:
    post:
      tags:
        - VideoService
      summary: 'Перечень автоматических правил загрузки видео'
      description: >-
        Получить список правил автоматической загрузки видео
      parameters:
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: application/json
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RulesListRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/RulesListRequest'
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RuleListResponse'

  /service/ovms/api/rules:
    post:
      tags:
        - VideoService
      summary: 'Добавить правило автоматической загрузки видео-файла'
      description: >-
        Добавить правило автоматической загрузки видео
      parameters:
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: application/json
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/RuleAdd'
          application/json:
            schema:
              $ref: '#/components/schemas/RuleAdd'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rule'

  /service/ovms/api/rules/{rule_id}:
    get:
      tags:
        - VideoService
      summary: 'Получить информацию о правиле автоматической загрузки видео-файла'
      description: >-
        Получить информацию о правиле автоматической загрузки видео по rule_ID
      parameters:
        - in: path
          name: rule_id
          required: true
          schema:
            type: integer
          example: 10
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: application/json
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rule'

    put:
      tags:
        - VideoService
      summary: 'Изменить правило автоматической загрузки видео'
      description: >-
        Изменить правило автоматической загрузки видео по rule_ID
      parameters:
        - in: path
          name: rule_id
          required: true
          schema:
            type: integer
          example: 10
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: application/json
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/RuleAdd'
          application/json:
            schema:
              $ref: '#/components/schemas/RuleAdd'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rule'

    delete:
      tags:
        - VideoService
      summary: 'Удалить правило'
      description: >-
        Удалить правило
      parameters:
        - in: path
          name: rule_id
          required: true
          schema:
            type: integer
          example: '10'
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: 'application/json'
        - name: 'Authorization'
          in: header
          description: 'JWT Токен'
          required: true
          schema:
            type: string
          example: 'JWT {jwtToken}'
        - name: rule_name
          in: query
          description: ''
          required: true
          schema:
            type: string
          example: 'Name'
        - name: event_type_id
          in: query
          description: ''
          required: true
          schema:
            type: string
          example: 6
        - name: reg_ids
          in: query
          description: ''
          required: true
          schema:
            type: string
          example: 346999999
        - name: channel_ids
          in: query
          description: ''
          required: true
          schema:
            type: string
          example: 4
      responses:
        '200':
          description: ''
          content:
            text/plain:
              schema:
                type: object

  /service/ovms/api/tasks/checkfile/{task_id}:
    get:
      tags:
        - VideoService
      summary: 'Проверить наличие видео-файла'
      description: >-
        Проверка наличия видео по task_ID
      parameters:
        - in: path
          name: task_id
          required: true
          schema:
            type: integer
          example: '10'
          description: id задания
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: 'application/json'
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                properties:
                  file:
                    type: string

  /service/ovms/api/tasks/file/{task_id}:
    get:
      tags:
        - VideoService
      summary: 'Получить видео по ID задания'
      description: >-
        Получить видео по Id задания
      parameters:
        - in: path
          name: task_id
          required: true
          schema:
            type: integer
          example: '10'
          description: 'id задания'
        - name: Content-Type
          in: header
          description: ''
          required: true
          schema:
            type: string
          example: 'application/json'
      responses:
        '200':
          description: ''

  # geozones
  /api/service/geozones/geozones:
    post:
      tags:
        - Geozones
      summary: 'Добавить геозону'
      description: |-
        Метод предназначен для добавления геозоны.  
        Метод ожидает на вход данные из файла в формате .kml, .mif, либо в json по указанной схеме.  
        Геозона загружается в корневую группу геозон пользователя.
      parameters:
        - in: query
          name: type
          schema:
            type: string
            enum: [ 'kml', 'mif', 'json' ]
            default: 'json'
          required: true
      requestBody:
        content:
          application/json:
            # 'данные по схеме Омникомм онлайн'
            schema:
              $ref: '#/components/schemas/geozoneParameters'
          application/xml:
            # 'данные из файла в формате .kml'
            # обработка kml http://wiki.omnicomm.ru/pages/viewpage.action?pageId=11575722
            schema:
              type: string
          text/plain:
            # 'данные из файла в формате .mif'
            # обработка mif http://wiki.omnicomm.ru/pages/viewpage.action?pageId=11575959
            schema:
              type: string
      responses:
        200:
          description: 'добавлена геозона'
          content:
            text/plain:
              schema:
                description: 'UUID добавленной геозоны'
                type: string
                format: uuid

    get:
      tags:
        - Geozones
      summary: 'Получить данные о геозонах'
      description: |-
        Выбираются все геозоны, которые доступны пользователю, постраничная разбивка выполняется по количеству геозон.  
        Пользователя получаем из JWT.  
        Возвращается запрошенная страница данных по геозонам. Если страница не указана, то возвращается первая страница.
      parameters:
        - in: query
          name: page
          description: |-
            номер страницы, если не указан, то возвращается первая страница
          schema:
            type: integer
        - in: query
          name: pageSize
          description: |-
            максимальное количество геозон на странице, значение от 1 до 1000, если не указан, то по умолчанию 200
          schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: 200
      responses:
        200:
          description: 'страница с данными по геозонам'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/geozones'

  /ls/api/v1/tree/geozone:
    get:
      tags:
        - Geozones
      summary: Показывает геозоны и дерево групп геозон, доступные пользователю
      description: >-
        Метод предназначен для получения по пользователю перечня геозон с группами геозон в виде дерева.  
        Определяет пользователя по JWT.
      responses:
        "200":
          description: |-
            данные для построения дерева геозон
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GeozoneTreeGroup"

  /api/service/geozones/geozone-groups:
    get:
      tags:
        - Geozones
      summary: 'Возвращает группы геозон'
      description: |-
        Возвращаются данные по всем группам геозон пользователя.  
        Пользователя получаем из JWT.  
        В каждой группе указывается родительская группа и идентификаторы геозон, включенных в группу.
      responses:
        200:
          description: 'полный перечень групп геозон'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/geozonesGroups'

  /api/service/geozones/geozone/{uuid}:
    get:
      tags:
        - Geozones
      summary: 'Получить данные о геозоне'
      description: |-
        Метод возвращает данные по геозоне. Если у пользователя нет прав на геозону, то возвращается ошибка
      parameters:
        - in: path
          name: uuid
          description: 'uuid геозоны'
          schema:
            type: string
            format: uuid
          required: true
      responses:
        200:
          description: 'страница с данными по геозонам'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/geozone'

  # reports
  /ls/api/v1/reports:
    get:
      tags:
        - Reports_under_construction
      summary: 'Получение списка отчётов, доступных пользователю'
      description: >-
        Получение списка отчётов, доступных пользователю. Пользователь определяется по JWT
      responses:
        200:
          description: 'OK'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    properties:
                      reports:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              description: Идентификатор отчёта
                              type: integer
                            code:
                              description: Кодовое имя отчёта
                              type: string
                            group:
                              description: Группы, в которые входит отчёт (favourite - Избранное, reports - Отчеты, maps - Карта, graphs - Графики, charts - Диаграммы)
                              type: array
                              items:
                                type: string
                            objectTypes:
                              description: Типы объектов, для которых применим отчёт (FAS - ТС, FTC - Топливозаправщик, DRV - водитель, GEOZONE/1 - геозона, ROUTE - маршрут)
                              type: array
                              items:
                                type: string
                example:
                  status:
                    code: 0
                    message: "OK"
                  reports:
                    - id: 8
                      code: fueleventsreport
                      groups:
                        - reports
                        - favourite
                      objectTypes:
                        - FAS
                        - FTC
                        - DRV
                    - id: 32
                      code: consolidatedreport
                      groups:
                        - reports
                      objectTypes:
                        - FAS
                        - FTC

  /ls/api/v1/reports/track/{id}:
    get:
      tags:
        - Reports
      summary: 'Получение данных отчета о треке по указанному ТС'
      description: >-
        Получение данных отчета о треке по идентификатору терминала или идентификатору КО (UUID)
      parameters:
        - in: path
          name: id
          description: |-
            идентификатор КО (UUID) или идентификатор терминала
          schema:
            type: string
          required: true
        - in: query
          name: timeBegin
          description: |-
            время начала интервала с точностью до секунд (UTC unix timestamp)
          schema:
            type: integer
          required: true
        - in: query
          name: timeEnd
          description: |-
            время окончания интервала с точностью до секунд (UTC unix timestamp)
          schema:
            type: integer
          required: true
      responses:
        200:
          description: 'OK'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    properties:
                      track:
                        $ref: '#/components/schemas/track'
                example:
                  status:
                    code: 0
                    message: "OK"
                  track:
                    - date: 1548217295
                      direction: 284
                      latitude: 48.7845135
                      longitude: 44.500788
                      speed: 0
                      satellitesCount: 21
                    - date: 1548217300
                      direction: 354
                      latitude: 48.7845599
                      longitude: 44.5007432
                      speed: 3.4
                      satellitesCount: 21

  /ls/api/v1/reports/track:
    get:
      operationId: getTrack
      tags:
        - Reports
      summary: 'Получение по набору ТС данных отчета "Трек" с прореживанием'
      description: >-
        Получение данных отчёта "Трек" по набору идентификаторов ТС за период с прореживанием (прореживание - исключение некоторых точек трека для уменьшения объёма результата)
      parameters:
        - in: query
          name: vehicles
          description: |-
            массив идентификаторов ТС в виде строки в квадратных скобках с идентификаторами ТС, указанными через запятую   
            example: [254000001,1138000001,1138000002]
          schema:
            type: string
          required: true
        - in: query
          name: fromDatetime
          description: 'время начала интервала с точностью до миллисекунд (UTC unix timestamp ms)'
          schema:
            type: integer
            format: int64
          required: true
        - in: query
          name: toDatetime
          description: 'время окончания интервала с точностью до миллисекунд (UTC unix timestamp ms)'
          schema:
            type: integer
            format: int64
          required: true
        - in: query
          name: gpsfDist
          description: 'Прореживание по расстоянию. Минимальное расстояние, в метрах, между точками, при котором не происходит исключение последующей точки. По умолчанию 10000 метров'
          schema:
            type: integer
        - in: query
          name: gpsfAngle
          description: 'Прореживание по направлению. Минимальный угол, в градусах, между направлениями точек, при котором не происходит фильтрация. По умолчанию 10 градусов'
          schema:
            type: integer
        - in: query
          name: gpsfWidth
          description: 'Прореживание по ширине коридора. Минимальная ширина коридора, в метрах, между текущей отображаемой и одной из последующих точек, при нахождении промежуточной между ними точки она не отфильтровывается. По умолчанию 20 метров'
          schema:
            type: integer
        - in: query
          name: events
          description: 'Возвращать ли события в точках трека. По умолчанию true'
          schema:
            type: boolean
      responses:
        200:
          description: |-
            code = 0 - OK
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            maximalSpeed:
                              description: Ограничение максимальной скорости для ТС
                              type: integer
                            unis:
                              description: >-
                                Массив объектов с параметрами универсальных входов (для обработки данных событий)
                              type: array
                              items:
                                allOf:
                                  - type: object
                                    properties:
                                      number:
                                        description: Номер универсального входа
                                        type: integer
                                      alwaysOn:
                                        description: Всегда включен
                                        type: boolean
                                  - $ref: '#/components/schemas/uniInput'
                            registrationNumber:
                              description: Регистрационный номер ТС
                              type: string
                            vehicleID:
                              description: Идентификатор ТС
                              type: integer
                            track:
                              description: Массив точек трека
                              type: array
                              items:
                                type: object
                                properties:
                                  p:
                                    description: |-
                                      Массив основных параметров  
                                      0 - топливо (дл)  
                                      1 - признак остановки (1 - остановка, 0 - нет остановки)  
                                      2 - признак зажигания (1 - вкл, 0 - выкл)
                                    type: array
                                    items:
                                      type: number
                                  s:
                                    description: Скорость (км/ч) - в зависимости от настроек, может зависеть от Признака валидности данных GPS (см. параметр v)
                                  d:
                                    description: Направление (градусы 0-359, 0 - север, 90 - восток, 180 - юг, 270 - запад) - в зависимости от настроек, меожт зависеть от Признака валидности данных GPS (см. параметр v)
                                  e:
                                    description: >-
                                      Массив событий точки трека. Возвращается, если query-параметр events = true
                                    type: array
                                    items:
                                      $ref: '#/components/schemas/TrackEvent'
                                  v:
                                    description: Признак валидности данных GPS (1 - валидны, 0 - невалидны)
                                    type: integer
                                  lt:
                                    description: 'Широта'
                                    type: number
                                    format: double
                                  lg:
                                    description: 'Долгота'
                                    type: number
                                    format: double
                                  m:
                                    description: Пробег по треку (км) - в зависимости от настроек, может зависеть от Признака валидности данных GPS (см. параметр v)
                                  ed:
                                    description: 'Метка времени события. Unix timestamp (s)'
                                    type: integer
                  - $ref: '#/components/schemas/responseStatus'
              example:
                data:
                  - maximalSpeed: 100
                    unis:
                      -
                    registrationNumber: RENAULT К123СО750
                    vehicleId: 336001234
                    track:
                      - p: [ 3581,0,1 ]
                        s: 0
                        d: 66
                        e:
                          - [ 5,0,2 ]
                        v: 1
                        lt: 52.5930108
                        lg: 39.4403379
                        m: 215.6082
                        ed: 1567734841
                      - p: [ 3579,0,1 ]
                        s: 3.9
                        d: 120
                        e:
                          - [ 43,0,3082 ]
                          - [ 98,0,3082 ]
                        v: 1
                        lt: 52.593059
                        lg: 39.4406024
                        m: 215.6264
                        ed: 1567734934
                status:
                  code: 0
                  message: OK

        403:
          description: |-
            code = 1 - Ошибка. Нет доступа к ТС по указанному идентификатору, либо ТС не существует
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 1
                  message: 'Access denied: 1138000000'

  /ls/api/v1/reports/fuellevel:
    get:
      operationId: getFuelLevel
      tags:
        - Reports
      summary: 'Получение данных отчета "Объём топлива"'
      description: >-
        Получение данных отчёта "Объём топлива" по ТС за период по отдельным топливным емкостям
      parameters:
        - in: query
          name: timeBegin
          description: |-
            время начала интервала с точностью до секунд (UTC unix timestamp)
          schema:
            type: integer
          required: true
        - in: query
          name: timeEnd
          description: |-
            время окончания интервала с точностью до секунд (UTC unix timestamp)
          schema:
            type: integer
          required: true
        - in: query
          name: vehicleID
          description: |-
            идентификатор ТС
          schema:
            type: integer
          required: true
        - in: query
          name: ignition
          description: |-
            Флаг true/false возврашать данные по зажиганию или нет. По умолчанию выключен
          schema:
            type: boolean
        - in: query
          name: llsFailure
          description: |-
            Флаг true/false возврашать данные по сбоям датчиков LLS или нет. По умолчанию выключен
          schema:
            type: boolean
        - in: query
          name: activity
          description: |-
            Флаг true/false возврашать данные по работе двигателя или нет. По умолчанию выключен
          schema:
            type: boolean
      responses:
        200:
          description: |-
            code = 0 - OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    description: |-
                      Данные по объему топлива для ТС
                    properties:
                      ignition:
                        type: object
                        description: |-
                          Данные по зажиганию, возвращаются когда query параметр ignitionData = true
                        properties:
                          ignitionOn:
                            description: Массив событий включения зажигания
                            type: array
                            items:
                              description: unix timestamp (s)
                              type: integer
                              format: int64
                          ignitionOff:
                            description: Массив событий выключения зажигания
                            type: array
                            items:
                              description: unix timestamp (s)
                              type: integer
                              format: int64
                      activityPeriods:
                        description: 'Массив интервалов работы двигателя. Данные по зажиганию, возвращаютскогдquery параметр ignitionData = true '
                        type: array
                        items:
                          $ref: '#/components/schemas/intervalArray'
                      tankData:
                        description: Массив данных по топливным емкостям
                        type: array
                        items:
                          description: Данные по отдельной топливной емкости
                          type: object
                          properties:
                            tankNumber:
                              description: номер топливной емкости
                              type: integer
                            tankCapacity:
                              description: объем топливной емкости (л)
                              type: integer
                            data:
                              type: array
                              items:
                                type: object
                                properties:
                                  eD:
                                    description: 'Метка времени unix timestamp (s)'
                                    type: integer
                                  aV:
                                    description: 'Cглаженное значение объема топлива в момент времени (л)'
                                    type: number
                                  rV:
                                    description: '"Сырые" значения объема топлива  в момент времени (л)  '
                                    type: number
                            llsFailurePeriods:
                              description: Массив интервалов сбоев датчиков по емкости
                              type: array
                              items:
                                $ref: '#/components/schemas/intervalArray'
        403:
          description: |-
            code = 1 - Ошибка. Нет доступа к запрошенным ТС
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 1
                  message: 'Access denied to the vehicles: 1138000000'


  /ls/api/{versionNumber}/reports/statistics:
    get:
      operationId: getStatistics
      tags:
        - Reports
      summary: 'Получение данных отчета "Статистика"'
      description: >-
        Получение запрошенных групп параметров отчёта "Статистика" по набору идентификаторов ТС и/или групп ТС за период
      parameters:
        - in: path
          name: versionNumber
          description: 'номер версии API'
          schema:
            type: string
          required: true
        - in: query
          name: timeBegin
          description: |-
            время начала интервала с точностью до секунд (UTC unix timestamp)
          schema:
            type: integer
          required: true
        - in: query
          name: timeEnd
          description: |-
            время окончания интервала с точностью до секунд (UTC unix timestamp)
          schema:
            type: integer
          required: true
        - in: query
          name: dataGroups
          description: |-
            массив запрашиваемых групп параметров в виде строки в квадратных скобках с кодами групп, указанными через запятую:  
            mw - Движение и работа  
            cmw - Счётчики движения  
            fuel - Топливо (основная ёмкость)  
            fuelmass - Масса топлива (основная ёмкость)  
            fuelecon - Топливо (Параметры экономичности, основная ёмкость)  
            fueladd - Топливо (дополнительная ёмкость)  
            ae - Работа дополнительного оборудования  
            ccan - Показания счетчиков с шины CAN  
            canmnt - Параметры технического обслуживания по CAN  
            can - Пробег, расход и моточасы по данным с шины CAN  
            iqfreeze - IQFreeze  
            tpms - TPMS  
            tech - Технологические параметры
          example: "[mw,fuel,mnt]"
          schema:
            type: string
          required: true
        - in: query
          name: vehicles
          description: |-
            массив идентификаторов ТС в виде строки в квадратных скобках с идентификаторами ТС, указанными через запятую. Не более 50 ТС  
            должен быть указан, если не указан vehileGroups
          example: "[254000001,1138000001,1138000002]"
          schema:
            type: string
        - in: query
          name: vehileGroups
          description: |-
            массив идентификаторов групп ТС в виде строки в квадратных скобках с идентификаторами ТС, указанными через запятую. Не более 10 групп  
            должен быть указан, если не указан vehiles
          example: "[12409b04-79fc-3a28-91f4-9de396fd84b1,12409b04-79fc-3a28-91f4-9de396fd84b2,12409b04-79fc-3a28-91f4-9de396fd84b3]"
          schema:
            type: string

      responses:
        200:
          description: |-
            code = 0 - OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    description: |-
                      Данные по статистике.  
                      Если значение какого-либо числового параметра не определено, возвращается NULL
                    properties:
                      data:
                        type: object
                        properties:
                          vehicleDataList:
                            description: Массив данных по отдельным ТС
                            type: array
                            items:
                              description: Данные по отдельному ТС
                              type: object
                              properties:
                                vehicleID:
                                  description: Идентификатор ТС
                                  type: integer
                                name:
                                  description: Регистрационный номер ТС
                                  type: string

                                mw:
                                  description: Движение и работа
                                  type: object
                                  properties:
                                    movement:
                                      description: Время движения (с)
                                      type: integer
                                      format: int64
                                    movementPercent:
                                      description: Время движения (% от периода отчёта)
                                      type: number
                                    layUp:
                                      description: Время с выключенным двигателем (с)
                                      type: integer
                                      format: int64
                                    layUpPercent:
                                      description: Время с выключенным двигателем (% от периода отчёта)
                                      type: number
                                    worked:
                                      description: Время работы двигателя (с)
                                      type: integer
                                      format: int64
                                    workedPercent:
                                      description: Время работы двигателя (% от периода отчёта)
                                      type: number
                                    workedOnMovement:
                                      description: Время работы двигателя в движении (с)
                                      type: integer
                                      format: int64
                                    workedOnMovementPercent:
                                      description: Время работы двигателя в движения (% от периода отчёта)
                                      type: number
                                    workedNoMovement:
                                      description: Время работы двигателя без движения (с)
                                      type: integer
                                      format: int64
                                    workedNoMovementPercent:
                                      description: Время работы двигателя без движения (% от периода отчёта)
                                      type: number
                                    mileage:
                                      description: Пробег (км)
                                      type: number
                                    mileageSpeeding:
                                      description: Пробег с превышением скорости (км)
                                      type: number
                                    moveTime:
                                      description: Время движения (с)
                                      type: number
                                    excessRPM:
                                      description: Время работы двигателя на предельных оборотах (с)
                                      type: integer
                                      format: int64
                                    idlingRPM:
                                      description: Время работы двигателя на холостом ходу (с)
                                      type: integer
                                      format: int64
                                    idlingRPMPercent:
                                      description: Время работы двигателя на холостом ходу (% от периода отчёта)
                                      type: number
                                    normalRPM:
                                      description: Время работы двигателя на нормальных оборотах (с)
                                      type: integer
                                      format: int64
                                    normalRPMPercent:
                                      description: Время работы двигателя на нормальных оборотах (% от периода отчёта)
                                      type: number
                                    maxSpeed:
                                      description: Максимальная скорость (км/ч)
                                      type: number

                                cmw:
                                  description: Счетчики движения
                                  type: object
                                  properties:
                                    mileageAtPeriodBegin:
                                      description: Общий пробег на начало периода (км)
                                      type: number
                                    mileageAtPeriodEnd:
                                      description: Общий пробег на конец периода (км)
                                      type: number

                                ccan:
                                  description: Счетчики CAN
                                  type: object
                                  properties:
                                    spn245:
                                      description: Значение одометра CAN на конец периода (км)
                                      type: number
                                    spn246:
                                      description: Значение одометра CAN на начало периода (км)
                                      type: number
                                    spn247:
                                      description: Значение счетчика моточасов (c)
                                      type: integer
                                      format: int64
                                    spn250:
                                      description: Значение счетчика расхода топлива (л)
                                      type: number

                                canmnt:
                                  description: Параметры технического обслуживания по CAN
                                  type: object
                                  properties:
                                    motoHoursServiceCounter:
                                      description: Значение счётчика моточасов на конец периода (мтч)
                                      type: integer
                                    spn914:
                                      description: Пробег до ТО (км)
                                      type: number
                                    spn916:
                                      description: Моточасов до ТО (c)
                                      type: integer
                                      format: int64

                                can:
                                  description: Пробег, расход и моточасы по данным с шины CAN
                                  type: object
                                  properties:
                                    distance:
                                      description: Пробег (км)
                                      type: number
                                    engineOperationMin:
                                      description: Моточасы (мин)
                                      type: number
                                    fuelUsed:
                                      description: Расход топлива (дл)
                                      type: number

                                fuel:
                                  description: Топливо (основная ёмкость)
                                  type: object
                                  properties:
                                    fuelConsumption:
                                      description: Фактический расход (дл)
                                      type: number
                                    delivery:
                                      description: Объём выдач (сл)
                                      type: number
                                    draining:
                                      description: Объём сливов (дл)
                                      type: number
                                    deviation:
                                      description: Возможный слив (сл). Если знак обратный - "Превышение выдач над заливами". Имеет смысл для АТЗ
                                      type: number
                                    endVolume:
                                      description: Конечный объём (дл)
                                      type: number
                                    maxVolume:
                                      description: Максимальный объём (дл)
                                      type: number
                                    minVolume:
                                      description: Минимальный объём (дл)
                                      type: number
                                    refuelling:
                                      description: Объём заправок (дл)
                                      type: number
                                    co2Emission:
                                      description: Объём выбросов CO2 (кг)
                                      type: integer
                                    fuelConsumptionOnMove:
                                      description: Фактический расход в движении (дл)
                                      type: number
                                    startVolume:
                                      description: Начальный объём (дл)
                                      type: number
                                    fuelConsumptionWOMovement:
                                      description: Фактический расход без движения (дл)
                                      type: number
                                    fuelConsumptionOnWorked:
                                      description: Фактический расход за время работы двигателя (дл)
                                      type: number
                                    fuelConsumptionOnWorkedNoMovement:
                                      description: Фактический расход за время работы двигателя без движения (дл)
                                      type: number
                                    fuelConsMH:
                                      description: Фактический расход за час работы двигателя (дл)
                                      type: number
                                    fuelConsMHWOMovement:
                                      description: Фактический расход за час работы двигателя без движения (дл)
                                      type: number
                                    fuelConsMHMovement:
                                      description: Фактический расход за час работы двигателя в движении (дл)
                                      type: number
                                    fuelConsumptionOnMoveIdle:
                                      description: Фактический расход за время работы двигателя на холостом ходу в движении (дл)
                                      type: number
                                    fuelConsumptionNotMoveIdle:
                                      description: Фактический расход за время работы двигателя на холостом ходу в движении (дл)
                                      type: number
                                    dutyConsumptionMH:
                                      description: Норма расхода на час работы двигателя (л)
                                      type: number
                                    normConsumptionMH:
                                      description: Расчетный расход по норме на час работы двигателя (л)
                                      type: number
                                    fuelConsEx:
                                      description: Перерасход от нормы на час работы двигателя (л)
                                      type: number
                                    fuelConsDev:
                                      description: Отклонение от нормы на час работы двигателя (%)
                                      type: number
                                    deviationWorkNormIdleLoad:
                                      description: Превышение нормы расхода на холостом ходу (л)
                                      type: number

                                fueladd:
                                  description: Топливо (дополнительная емкость).
                                  type: object
                                  properties:
                                    startVolume_additional_2:
                                      description: Начальный объём (дл)
                                      type: integer
                                    endVolume_additional_2:
                                      description: Конечный объём (дл)
                                      type: integer
                                    draining_additional_2:
                                      description: Объём сливов (дл)
                                      type: integer
                                    refuelling_additional_2:
                                      description: Объём заправок (дл)
                                      type: integer
                                    minVolume_additional_2:
                                      description: Минимальный объём (дл)
                                      type: integer
                                    maxVolume_additional_2:
                                      description: Максимальный объём (дл)
                                      type: integer
                                    fuelBy100_additional_2:
                                      description: Фактический расход на 100 км (дл)
                                      type: number
                                    fuelConsumption_additional_2:
                                      description: Фактический расход (дл)
                                      type: integer

                                fuelecon:
                                  description: Топливо (Параметры экономичности, основная ёмкость)
                                  type: object
                                  properties:
                                    fuelCons100:
                                      description: Фактический расход на 100 км (дл)
                                      type: number
                                    fuelConsumptionOnMove100:
                                      description: Фактический расход на 100 км в движении (дл)
                                      type: number
                                    dutyConsumption100:
                                      description: Норма расхода на 100 км (л)
                                      type: number
                                    normCons100:
                                      description: Расчетный расход по норме на 100 км (л)
                                      type: number
                                    fuelCons100Dev:
                                      description: Отклонение от нормы на 100 км (%)
                                      type: number
                                    fuelCons100Ex:
                                      description: Перерасход от нормы на 100 км за период (л)
                                      type: number

                                fuelmass:
                                  description: Масса топлива (основная ёмкость)
                                  type: object
                                  properties:
                                    drainingMass:
                                      description: Масса сливов (кг)
                                      type: number
                                    fuelBy100Mass:
                                      description: Фактический расход на 100 км (кг)
                                      type: number
                                    endMass:
                                      description: Конечная масса (кг)
                                      type: number
                                    startMass:
                                      description: Начальная масса (кг)
                                      type: number
                                    fuelByWOHourMass:
                                      description: Фактический расход за час работы двигателя (кг)
                                      type: number
                                    refuellingMass:
                                      description: Масса заправок (кг)
                                      type: number

                                iqfreeze:
                                  description: IQFreeze
                                  type: object
                                  properties:
                                    iQFreezeDevice:
                                      description: Тип установки
                                      type: string
                                    iQFreezeErrorsCount:
                                      description: Количество ошибок за период
                                      type: integer
                                    iQFreezeWorkTime:
                                      description: Время работы рефрижератора (с)
                                      type: integer
                                      format: int64
                                    iQFreezeWorkTimePercent:
                                      description: Время работы рефрижератора (% от периода отчета)
                                      type: number
                                    iQFreezeMotorhours:
                                      description: Моточасы
                                      type: integer
                                      format: int64
                                    iQFreezeMotorhoursPercent:
                                      description: Моточасы (% от периода отчета)
                                      type: number
                                    iQFreezeStartMotorhours:
                                      description: Моточасы на начало периода (ч)
                                      type: number
                                    iQFreezeEndMotorhours:
                                      description: Моточасы на конец периода (ч)
                                      type: number
                                    iQFreezeTotalFuelConsumption:
                                      description: Затрачено топлива всего (л)
                                      type: number
                                    iQFreezeTotalHighRPMFuelConsumption100:
                                      description: Расход при повышенных оборотах на 100 км (л)
                                      type: number
                                    iQFreezeTotalHighRPMFuelConsumptionMH:
                                      description: Расход при повышенных оборотах на моточас (л)
                                      type: number
                                    iQFreezeTotalLowRPMFuelConsumption100:
                                      description: Расход при пониженных оборотах на 100 км (л)
                                      type: number
                                    iQFreezeTotalLowRPMFuelConsumptionMH:
                                      description: Расход при пониженных оборотах на моточас (л)
                                      type: number
                                    iQFreezeDoorOpenCount:
                                      description: Количество открытий двери
                                      type: integer
                                    iQFreezeStopModeFuelConsumption:
                                      description: Расход топлива в режиме работы рефрижератора “Стоп” (дл)
                                      type: number
                                    iQFreezeHeatModeFuelConsumption:
                                      description: Расход топлива в режиме работы рефрижератора “Нагрев” (дл)
                                      type: number
                                    iQFreezeCoolModeFuelConsumption:
                                      description: Расход топлива в режиме работы рефрижератора “Охлаждение” (дл)
                                      type: number
                                    iQFreezeDefrostModeFuelConsumption:
                                      description: Расход топлива в режиме работы рефрижератора “Оттайка” (дл)
                                      type: number

                                tpms:
                                  description: TPMS
                                  type: object
                                  properties:
                                    tpmsDataAbsentMileage:
                                      description: Пробег без данных от системы контроля давления в шинах хотя бы по одному колесу (км)
                                      type: number
                                    tpmsDataAbsentMileagePercent:
                                      description: Пробег без данных от системы контроля давления в шинах хотя бы по одному колесу (% от пробега за период)
                                      type: number
                                    tpmsDataExistMileage:
                                      description: Пробег с данными от системы контроля давления в шинах (км)
                                      type: number
                                    tpmsDataExistMileagePercent:
                                      description: Пробег с данными от системы контроля давления в шинах (% от пробега за период)
                                      type: number
                                    tpmsWrongPressureMileage:
                                      description: Пробег с нарушением нормального давления хотя бы в одном колесе (км)
                                      type: number
                                    tpmsWrongPressureMileagePercent:
                                      description: Пробег с нарушением нормального давления хотя бы в одном колесе (% от пробега за период)
                                      type: number
                                    tpmsTireEconomy:
                                      description: Экономия ресурса покрышек за период (при поддержании целевого давления) (км)
                                      type: number
                                    tpmsFuelEconomy:
                                      description: Экономия топлива за период (при поддержании целевого давления) (дл)
                                      type: number

                                uniDataList:
                                  description: Работа универсальных входов
                                  type: array
                                  items:
                                    type: object
                                    properties:
                                      uniInput:
                                        $ref: '#/components/schemas/uniData'
                                      univInputOnTime:
                                        description: Время работы (с)
                                        type: integer
                                        format: int64
                                      univInputOnTimePercent:
                                        description: Время работы (% от периода отчета)
                                        type: number
                                      univInputOffTime:
                                        description: Время простоя
                                        type: integer
                                        format: int64
                                      univInputOffTimePercent:
                                        description: Время простоя (% от периода отчета)
                                        type: number
                                      univInputMaxValue:
                                        description: Максимальное значение за период
                                        type: number
                                      univInputMinValue:
                                        description: Минимальное значение за период
                                        type: number
                                      univInputSumValue:
                                        description: Суммарное значение за период
                                        type: number
                                      univInputOnMileage:
                                        description: Пробег с работающим дополнительным оборудованием (км)
                                        type: number
                                      univInputAverageValue:
                                        description: Среднее значение за период
                                        type: number
                                      univInputOnConsumption:
                                        description: Расход с включенным доп. оборудованием (дл)
                                        type: integer
                                      univInputHourConsumption:
                                        description: Расход с включенным доп. оборудованием на моточас (л)
                                        type: number
                                      univInputMileagePerLitre:
                                        description: Пробег на 1 литр (км)
                                        type: number
                                      univInputMileageConsumption:
                                        description: Расход с включенным доп. оборудованием на 100 км (дл)
                                        type: number
                                      univInputOffConsumptionBy100:
                                        description: Расход с выключенным доп. оборудованием на 100 км (дл)
                                        type: number
                                      univInputTimeBelowMaxValue:
                                        description: Время работы ниже допустимого значения (с)
                                        type: integer
                                        format: int64
                                      univInputTimeBelowMaxValuePercent:
                                        description: Время работы ниже допустимого значения (% от периода отчета)
                                        type: number
                                      univInputTimeExceedMaxValue:
                                        description: Время работы выше допустимого значения (с)
                                        type: integer
                                        format: int64
                                      univInputTimeExceedMaxValuePercent:
                                        description: Время работы выше допустимого значения (% от периода отчета)
                                        type: number

                                tech:
                                  description: Технологические параметры
                                  type: object
                                  properties:
                                    gear:
                                      description: Продолжительность работы по передачам
                                      $ref: '#/components/schemas/GearDuration'
                                    errorsDVS:
                                      description: Двигатель. Работа с ошибками
                                      $ref: '#/components/schemas/totalErrorsWork'
                                    errorsKPP:
                                      description: Трансмиссия. Работа с ошибками
                                      $ref: '#/components/schemas/totalErrorsWork'

                          vehicleNmb:
                            description: количество объектов
                            type: integer
                          fasVehicleNmb:
                            description: количество объектов ТС
                            type: integer
                          ftcVehicleNmb:
                            description: количество объектов топливозаправщиков
                            type: integer
                          driversNmb:
                            description: количество водителей
                            type: integer

                          totalTech:
                            description: Технологические параметры. Итого
                            type: object
                            properties:
                              totalGear:
                                description: Суммарная продолжительность работы по передачам
                                $ref: '#/components/schemas/GearDuration'
                              totalErrorsDVS:
                                description: Двигатель. Суммарная работа с ошибками
                                $ref: '#/components/schemas/totalErrorsWork'
                              totalErrorsKPP:
                                description: Трансмиссия. Суммарная работа с ошибками
                                $ref: '#/components/schemas/totalErrorsWork'

                          totalMw:
                            description: Движение и работа. Итого
                            type: object
                            properties:
                              maxSpeed:
                                description: Максимальная скорость (км/ч)
                                type: number
                              totalWorked:
                                description: Суммарное время работы двигателя (с)
                                type: integer
                                format: int64
                              totalWorkedOnMove:
                                description: Суммарное время работы двигателя в движении (с)
                                type: integer
                                format: int64
                              totalWorkedOnMovePercent:
                                description: Суммарное время работы двигателя в движении (% от периода отчета)
                                type: number
                              totalWorkedNoMovementTime:
                                description: Суммарное время работы двигателя без движения (c)
                                type: integer
                                format: int64
                              totalWorkedNoMovementPercent:
                                description: Суммарное время работы двигателя без движения (% от периода отчета)
                                type: number
                              totalWorkedPercent:
                                description: Суммарное время работы двигателя (% от периода отчёта)
                                type: number
                              totalWorkedOnExcessRPM:
                                description: Суммарное время работы двигателя на предельных оборотах (с)
                                type: integer
                                format: int64
                              totalWorkedOnExcessRPMPercent:
                                description: Суммарное время работы двигателя на предельных оборотах (% от времени работы двигателя)
                                type: number
                              totalWorkedOnIdlingRPM:
                                description: Суммарное время работы двигателя на холостом ходу (с)
                                type: integer
                                format: int64
                              totalWorkedOnIdlingRPMPercent:
                                description: Суммарное время работы двигателя на холостом ходу (% от времени работы двигателя)
                                type: number
                              totalWorkedOnNormalRPM:
                                description: Суммарное время работы двигателя на нормальных оборотах (с)
                                type: integer
                                format: int64
                              totalWorkedOnNormalRPMPercent:
                                description: Суммарное время работы двигателя на нормальных оборотах (% от времени работы двигателя)
                                type: number
                              totalWorkedUnderLoadRPM:
                                description: Суммарное время работы двигателя под нагрузкой (с)
                                type: integer
                                format: int64
                              totalWorkedUnderLoadRPMPercent:
                                description: Суммарное время работы двигателя под нагрузкой (% от времени работы двигателя)
                                type: number
                              averageSpeed:
                                description: Средняя скорость в движении (км/ч)
                                type: number
                              totalMileage:
                                description: Суммарный пробег (км)
                                type: number
                              totalMileagePerLitre:
                                description: Средний фактический пробег на 1 литр (км)
                                type: number
                              totalMileageSpeeding:
                                description: Суммарный пробег с превышением скорости (км)
                                type: number
                              totalMoveTime:
                                description: Суммарнове время движения (с)
                                type: integer
                                format: int64
                              averageMoveTime:
                                description: Среднее время движения (с)
                                type: integer
                                format: int64
                              totalMoveTimePercent:
                                description: Среднее время движения (% от периода отчета)
                                type: number
                              totalMovementMileage:
                                description: Суммарный пробег в движении (км)
                                type: number
                              totalMovementMileagePerLitre:
                                description: Средний фактический пробег в движении на 1 литр (км)
                                type: number
                              averageMileage:
                                description: Средний пробег (км)
                                type: number
                              totalLayUpTime:
                                description: Суммарное время с выключенным двигателем (c)
                                type: integer
                                format: int64
                              totalLayUpTimePercent:
                                description: Суммарное время с выключенным двигателем (% от периода отчета)
                                type: number

                          totalFuel:
                            description: Топливо (основная ёмкость). Итого
                            type: object
                            properties:
                              totalDelivery:
                                description: Объём выдач (сл)
                                type: number
                              totalDraining:
                                description: Объём сливов (дл)
                                type: number
                              totalFilling:
                                description: Объём заливов (дл)
                                type: number
                              totalRefuelling:
                                description: Объём заправок (дл)
                                type: number
                              totalConsumption:
                                description: Суммарный фактический расход (дл)
                                type: number
                              totalConsumptionOnMove:
                                description: Суммарный фактический расход в движении (дл)
                                type: number
                              totalConsumptionWOMovement:
                                description: Суммарный фактический расход без движения (дл)
                                type: number
                              consPerMHEngineOn:
                                description: Средний фактический расход на моточас (дл)
                                type: number
                              averageConsumption:
                                description: Средний фактический расход (дл)
                                type: number
                              averageConsumptionMH:
                                description: Средний фактический расход за час работы двигателя (дл)
                                type: number
                              averageConsumption100:
                                description: Средний фактический расход на 100 км (дл)
                                type: number
                              averageConsumptionOnMove100:
                                description: Средний фактический расход на 100 км в движении (дл)
                                type: number
                              averageConsumptionMHMovement:
                                description: Средний фактический расход за час работы двигателя в движении (дл)
                                type: number
                              averageConsumptionMHWOMovement:
                                description: Средний фактический расход за час работы двигателя без движения (дл)
                                type: number
                              consumptionEngineOn:
                                description: Суммарный фактический расход за время работы двигателя (дл)
                                type: number
                              totalFuelOnMoveCrit:
                                description: Фактический (суммарный) расход за время работы двигателя с превышением предельной нагрузки в движении (дл)
                                type: number
                              totalFuelOnMoveIdle:
                                description: Суммарный фактический расход за время работы двигателя на холостом ходу в движении (дл)
                                type: number
                              totalFuelOnMoveNorm:
                                description: Фактический (суммарный) расход за время работы двигателя под номинальной нагрузкой в движении (дл)
                                type: number
                              totalFuelConsumptionMHMovement:
                                description: Фактический расход за час работы двигателя в движении (дл)
                                type: number
                              totalFuelNotMoveNorm:
                                description: Фактический (суммарный) расход за время работы двигателя под номинальной нагрузкой без движения (дл)
                                type: number
                              totalFuelNotMoveCrit:
                                description: Фактический (суммарный) расход за время работы двигателя с превышением предельной нагрузки без движения (дл)
                                type: number
                              totalFuelNotMoveIdle:
                                description: Суммарный фактический расход за время работы двигателя на холостом ходу без движения (дл)
                                type: number
                              co2Emission:
                                description: Объём выбросов CO2 (кг)
                                type: integer

                          totalFuelmass:
                            description: Масса топлива (основная ёмкость). Итого
                            type: object
                            properties:
                              avgFuelByWOHourMass:
                                description: Средний фактический расход за час работы двигателя (кг)
                                type: number
                              totalDrainingMass:
                                description: Масса сливов (кг)
                                type: number
                              avglFuelBy100Mass:
                                description: Средний фактический расход на 100 км (кг)
                                type: number
                              totalRefuellingMass:
                                description: Масса заправок (кг)
                                type: number
                              fuelConsumptionMass:
                                description: Фактический расход (кг)
                                type: number
                              totalFuelConsumptionMass:
                                description: Суммарный фактический расход (кг)
                                type: number

                          totalFueladd:
                            description: Топливо (дополнительная емкость). Итого
                            type: object
                            properties:
                              totalRefuelling_additional_2:
                                description: Суммарный объем заправок (дл)
                                type: integer
                              totalDraining_additional_2:
                                description: Суммарный объём сливов (дл)
                                type: integer
                              avgFuelConsumption_additional_2:
                                description: Средний фактический расход (дл)
                                type: integer
                              totalFuelConsumption_additional_2:
                                description: Суммарный фактический расход
                                type: integer
                              avgFuelConsumptionBy100_additional_2:
                                description: Средний фактический расход на 100 км
                                type: integer

                          totalAe:
                            description: Работа универсальных входов. Итого
                            type: object
                            properties:
                              totalUnivInputOnTime:
                                description: Время работы (с)
                                type: integer
                                format: int64
                              totalUnivInputOffTime:
                                description: Время простоя (с)
                                type: integer
                                format: int64
                              totalUnivInputTimeBelowMaxValue:
                                description: Время работы выше допустимого значения (с)
                                type: integer
                                format: int64
                              totalUnivInputTimeExceedMaxValue:
                                description: Время работы ниже допустимого значения (с)
                                type: integer
                                format: int64
                              totalUnivInputOffConsumptionBy100:
                                description: Расход топлива с выкл доп оборудованием на 100 км (дл)
                                type: number
        400:
          description: |-
            code = 3 - Ошибка. Не указан обязательный параметр
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 3
                  message: 'Required parameter is not defined: timeBegin, dataGroups'
        403:
          description: |-
            code = 1 - Ошибка. Нет доступа к запрошенным ТС
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 1
                  message: 'Access denied to the vehicles: 1138000000'
        404:
          description: |-
            code = 2 - Ошибка. ТС не найдено
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 2
                  message: 'No such vehicles: 1138000000'

  /ls/api/v1/reports/links:
    post:
      tags:
        - Reports_under_construction
      summary: 'Создание публичной ссылки на отчёт'
      description: >-
        Метод принимает параметры для создания публичной ссылки на отчёт. Набор параметров зависит от типа  отчёта. При успешном создании ссылки возвращает URL для публичного доступа к отчёту.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/publicLinkParams'
      responses:
        200:
          description: 'OK'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          linkId:
                            description: 'Идентификатор ссылки'
                            type: string
                            format: uuid
                          linkName:
                            description: 'Наименование публичной ссылки. Будет отборажаться пользователю в списке ссылок в интерфейсе Omnicomm Online'
                            type: string
                          url:
                            description: 'Созданная публичная ссылка'
                            type: string
              example:
                status:
                  code: 0
                  message: OK
                data:
                  linkId: 'ab415c8a-3c09-4bdb-a5ed-710fc3be1234'
                  linkName: api test link
                  url: 'http://online.omnicomm.ru/public-report/ab415c8a-3c09-4bdb-a5ed-710fc3be1234'
        400:
          description: |-
            code = 2 - не указан тип отчёта  
            code = 21 - передан неподдерживаемый тип отчёта  
            code = 3 - не указано ни 1 ТС, или не передан name  
            code = 41 - для отчёта Трек запрошено более 32 машино-дней
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
        403:
          description: |-
            code = 1 - нет права на создание публичных ссылок  
            code = 11 - нет права хотя бы на 1 ТС из набора vehicles
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'

    get:
      tags:
        - Reports_under_construction
      summary: 'Получение всех публичных ссылок пользователя на отчёты'
      description: >-
        Возвращает все публичные ссылки пользователя на отчёты с их параметрами.
      responses:
        200:
          description: 'OK'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    properties:
                      data:
                        description: 'Массив ссылок пользователя'
                        type: array
                        items:
                          description: 'Отдельная ссылка'
                          type: object
                          allOf:
                            - type: object
                              properties:
                                id:
                                  description: 'Идентификатор ссылки'
                                  type: string
                                  format: uuid
                                url:
                                  description: 'Публичная ссылка'
                                  type: string
                            - $ref: '#/components/schemas/publicLinkParams'
              example:
                status:
                  code: 0
                  message: 'OK'
                data:
                  - id: 'ab415c8a-3c09-4bdb-a5ed-710fc3be1234'
                    url: 'http://online.omnicomm.ru/public-report/ab415c8a-3c09-4bdb-a5ed-710fc3be1234'
                    reports:
                      - track
                    locale: ru
                    expire: '2019-12-30T21:00:00.000Z'
                    vehicles:
                      - 113000001
                      - 113000002
                      - 113000003
                    name: api test link
                    settings:
                      vehicleChoose: true
                      dateChoose: true
                      dateRel: 1440
                  - id: 'cd526c8a-3c09-4bdb-a5ed-710fc3be2345'
                    url: 'http://online.omnicomm.ru/public-report/cd526c8a-3c09-4bdb-a5ed-710fc3be2345'
                    reports:
                      - track
                    locale: ru
                    expire: '2019-12-30T21:00:00.000Z'
                    vehicles:
                      - 113000006
                      - 113000007
                    name: api test link
                    settings:
                      vehicleChoose: true
                      dateChoose: true
                      dateBegin: '2019-12-30T21:00:00.000Z'
                      dateEnd: '2019-12-01T21:00:00.000Z'

  /ls/api/v1/reports/links/{linkId}:
    get:
      tags:
        - Reports_under_construction
      summary: 'Получение данных указанной ссылки на отчёт'
      description: >-
        Возвращает указанную ссылку на отчёт с её параметрами.
      parameters:
        - in: path
          name: linkId
          description: 'Идентификатор ссылки (UUID)'
          schema:
            type: string
            format: uuid
          required: true
      responses:
        200:
          description: 'OK'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    properties:
                      data:
                        description: 'Ссылка и её параметры'
                        type: object
                        allOf:
                          - type: object
                            properties:
                              id:
                                description: 'Идентификатор ссылки'
                                type: string
                                format: uuid
                              url:
                                description: 'Публичная ссылка'
                                type: string
                          - $ref: '#/components/schemas/publicLinkParams'
              example:
                status:
                  code: 0
                  message: 'OK'
                data:
                  id: 'ab415c8a-3c09-4bdb-a5ed-710fc3be1234'
                  url: 'http://online.omnicomm.ru/public-report/ab415c8a-3c09-4bdb-a5ed-710fc3be1234'
                  reports:
                    - track
                  locale: ru
                  expire: '2019-12-30T21:00:00.000Z'
                  vehicles:
                    - 113000001
                    - 113000002
                    - 113000003
                  name: api test link
                  settings:
                    vehicleChoose: true
                    dateChoose: true
                    dateRel: 1440

    delete:
      tags:
        - Reports_under_construction
      summary: 'Удаление указанной ссылки на отчёт'
      description: >-
        Удаляет указанную ссылку на отчёт с её параметрами. После удаления ссылки открытие отчёта по ней больше не возможно
      parameters:
        - in: path
          name: linkId
          description: 'Идентификатор ссылки (UUID)'
          schema:
            type: string
            format: uuid
          required: true
      responses:
        200:
          description: 'OK'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
        404:
          description: |-
            code = 6 - ссылка не найдена
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'

    put:
      tags:
        - Reports_under_construction
      summary: 'Полная замена параметров указанной ссылки на отчёт'
      description: >-
        Для указанной ссылки на отчёт полностью заменяет параметры, за исключением типов отчётов.  
          Непереданные параметры ссылки, за исключением массива типов отчётов, будут установлены в null. Значения типов отчётов остаются теми же и не могут быть изменены.
      parameters:
        - in: path
          name: linkId
          description: 'Идентификатор ссылки (UUID)'
          schema:
            type: string
            format: uuid
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/publicLinkParams'
      responses:
        200:
          description: 'OK'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          linkId:
                            description: 'Идентификатор ссылки'
                            type: string
                            format: uuid
                          linkName:
                            description: 'Наименование публичной ссылки. Будет отборажаться пользователю в списке ссылок в интерфейсе Omnicomm Online'
                            type: string
                          url:
                            description: 'Созданная публичная ссылка'
                            type: string
              example:
                status:
                  code: 0
                  message: OK
                data:
                  linkId: 'ab415c8a-3c09-4bdb-a5ed-710fc3be1234'
                  linkName: api test link
                  url: 'http://online.omnicomm.ru/public-report/ab415c8a-3c09-4bdb-a5ed-710fc3be1234'
        400:
          description: |-
            code = 2 - не указан тип отчёта  
            code = 21 - передан неподдерживаемый тип отчёта  
            code = 3 - не указано ни 1 ТС, или не передан name  
            code = 41 - для отчёта Трек запрошено более 32 машино-дней
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
        403:
          description: |-
            code = 1 - нет права на создание публичных ссылок  
            code = 11 - нет права хотя бы на 1 ТС из набора vehicles
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
        404:
          description: |-
            code = 6 - ссылка не найдена
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'

  /ls/api/v1/reports/events/{id}:
    get:
      tags:
        - Reports
      summary: 'Получение данных отчета "События"'
      description: >-
        Получение данных отчёта "События" по ТС посредством идентификатора терминала или идентификатора КО (UUID)
      parameters:
        - in: path
          name: id
          description: 'идентификатор КО (UUID) или идентификатор терминала'
          schema:
            type: string
          required: true
        - in: query
          name: timeBegin
          description: 'время начала интервала с точностью до секунд (UTC unix timestamp)'
          schema:
            type: integer
          required: true
        - in: query
          name: timeEnd
          description: 'время окончания интервала с точностью до секунд (UTC unix timestamp)'
          schema:
            type: integer
          required: true
        - in: query
          name: type
          description: |
            тип события. См. описание схемы Event
          schema:
            type: integer
        - name: tankIds
          in: query
          description: 'comma-delimeted ids of tanks'
          schema:
            type: string
        - in: query
          name: page
          description: 'номер страницы'
          schema:
            type: integer
        - in: query
          name: perPage
          description: 'размер страницы'
          schema:
            type: integer
        - in: query
          name: sort
          description: 'сортировка'
          schema:
            type: string
        - in: query
          name: returnExcludes
          description: 'получать информацию о том, исключено это событие или нет'
          schema:
            type: boolean
      responses:
        200:
          description: 'OK'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    properties:
                      events:
                        type: array
                        items:
                          $ref: '#/components/schemas/Event'
                example:
                  status:
                    code: 0
                    message: "OK"
                  events:
                    - type: 500
                      latitude: 48.7845135
                      longitude: 44.500788
                      parameters:
                        - "4"
                        - "2"
                        - "648.0"
                        - "52.0"
                      timestamp: 1552629711
                    - type: 48
                      latitude: 55.7720499
                      longitude: 37.5191912
                      parameters:
                        - "50.0"
                        - "61.546"
                      timestamp: 1552629711
                      eventAddress: "Р-158, Берсеневское сельское поселение, Лямбирский район, Мордовия, Приволжский федеральный округ, 431520, Российская Федерация"

  /ls/api/v2/reports/events/:
    post:
      tags:
        - Reports_under_construction
      summary: 'Получение данных отчета "События"'
      description: >-
        Получение данных отчёта "События" по ТС посредством идентификатора терминала или идентификатора КО (UUID)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - timeBegin
                - timeEnd
                - vehicleIds
              properties:
                vehicleIds:
                  description: 'идентификатор КО (UUID) или идентификатор терминала, передавать как строку      в любом случае!'
                  type: array
                  items:
                    type: string
                timeBegin:
                  description: 'время начала интервала с точностью до секунд (UTC unix timestamp)'
                  type: integer
                timeEnd:
                  description: 'время окончания интервала с точностью до секунд (UTC unix timestamp)'
                  type: integer
                type:
                  description: 'тип события. См. описание схемы Event'
                  type: integer
                parameters[ID]:
                  description: 'Фильтр по параметру, работает только если задан фильтр по type. В ID      указывается номер параметра в массиве parameters (начиная с 1). Так запись       parameters[1]>200 означает что вернутся только события выбранного типа у которых      значение первого параметра > 200. Поддерживаются следующие операции  > , < , = , >= ,      <= ,  =""  последняя операция  это LIKE по частичному совпадению, где внутри "" надо      писать текст по которому хочется отфильтровать события'
                  type: string
                tankIds:
                  description: 'Фильтр по номеру емкости'
                  type: string
                duration:
                  description: 'Длительность события в секундах'
                  type: integer
                driverId:
                  description: 'Фильтр по uuid водителя'
                  type: string
                geozoneIds:
                  description: 'Фильтр uuid геозон в которых произошло событие'
                  type: array
                  items:
                    type: string
                page:
                  description: 'номер страницы'
                  type: integer
                perPage:
                  description: 'размер страницы'
                  type: integer
                sort:
                  description: 'сортировка'
                  type: string
                returnExcludes:
                  description: 'получать информацию о том, исключено это событие или нет'
                  type: boolean

      responses:
        200:
          description: 'OK'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    properties:
                      events:
                        type: array
                        items:
                          $ref: '#/components/schemas/Event2'
                example:
                  status:
                    code: 0
                    message: "OK"
                  events:
                    - type: 500
                      latitude: 48.7845135
                      longitude: 44.500788
                      parameters:
                        - "4"
                        - "2"
                        - "648.0"
                        - "52.0"
                      timestamp: 1552629711
                    - type: 48
                      latitude: 55.7720499
                      longitude: 37.5191912
                      duration: 300
                      driverId: "f3847282-628d-40a6-b727-ae0b9b3e3871"
                      geozoneIds: [ "00000000-628d-40a6-b727-ae0b9b3e3871" ]
                      parameters:
                        - "50.0"
                        - "61.546"
                      timestamp: 1552629711
                      eventAddress: "Р-158, Берсеневское сельское поселение, Лямбирский район, Мордовия, Приволжский федеральный округ, 431520, Российская Федерация"


  # Notifications
  /ls/api/v1/notifications/all:
    get:
      tags:
        - Notifications
      summary: Список уведомлений
      description: >-
        Возвращает список уведомлений для пользователя. Пользователь определяется по JWT.
      responses:
        "200":
          description: Счетчик сообщений
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NotificationsAll"
              example:
                critical: 0
                unread: 100
                service: 0
                notifications:
                  - readStatus: false
                    roottype: 'FAS'
                    notificationTypeId: 1
                    vehicleName: 'H 794 BC MERCEDES'
                    timezone: 'Europe/Moscow'
                    latitude: 62.1329931
                    delayed: false
                    notificationType: 'NORMAL'
                    expiryDatetime: 1556117640000
                    userID: 1946
                    eventTypeID: 1
                    timezoneOffset: 10800000
                    details: |-
                      Заправка/Залив. Объем топлива 157 л.
                    notificationName: 'иопрт'
                    longitude: 65.4104613
                    showMap: true
                    createDatetime: 1553525640000
                    notificationID: 2604625
                    vehicleID: 236026063
                    ruleID: 694
                    messageJson:
                      vehicleName: H 794 BC MERCEDES
                      address: >-
                        СТК, улица Декабристов, НГДУ, Нягань, городской округ Нягань,
                         Ханты-Мансийский автономный округ - Югра, Уральский федеральный округ, 628181,
                         Россия
                      eventParams: 'Объем топлива 157 л'
                      parseAddress:
                        country: 'Россия'
                        city: 'Нягань'
                        street: 'улица Декабристов'
                        postcode: '628181'
                        unParseableLocation:
                          country: 'Россия'
                          country_code: 'ru'
                          town: 'Нягань'
                          road: 'улица Декабристов'
                          fuel: 'СТК'
                          neighbourhood: 'НГДУ'
                          administrative: 'Уральский федеральный округ'
                          postcode: 628181
                          state: 'Ханты-Мансийский автономный округ - Югра'
                        region: 'Уральский федеральный округ, Ханты-Мансийский автономный округ - Югра'
                      ruleName: 'иопрт'
                      reductionAddress:
                        country: 'Россия'
                        city: 'Нягань'
                        street: 'ул Декабристов'
                        postcode: 628181
                        unParseableLocation:
                          country: 'Россия'
                          country_code: 'ru'
                          town: 'Нягань'
                          road: 'ул Декабристов'
                          fuel: 'СТК'
                          neighbourhood: 'НГДУ'
                          administrative: 'Уральский федеральный округ'
                          postcode: 628181
                          state: 'Ханты-Мансийский автономный округ - Югра'
                        region: 'Уральский федеральный округ, Ханты-Мансийский автономный округ - Югра'
                      notificationEventName: 'Заправка/Залив'
                      notificationDate: '25.03.2019 17:54:00 (UTC+03:00)'
                      eventDate: '25.03.2019 02:26:15 (UTC+03:00)'
                    eventDate: 1553469975000
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /ls/api/v1/notifications/new:
    get:
      tags:
        - Notifications
      summary: Сводка по уведомлениям
      description: >-
        Возвращает сводку по уведомлениям для пользователя. Пользователь определяется по JWT.
      responses:
        "200":
          description: Счетчик сообщений
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NotificationsNew"
        default:
          description: непредвиденная ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /ls/api/v1/notifications/read:
    post:
      tags:
        - Notifications
      summary: Отмечает уведомление как прочитанное
      description: >-
        Отмечает уведомление как прочитанное
      requestBody:
        content:
          application/json:
            schema:
              description: ID сообщения
              type: object
              properties:
                ID:
                  type: number
      responses:
        "200":
          description: "{success: true}"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
        default:
          description: непредвиденная ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /ls/api/v1/notifications/read/all:
    post:
      tags:
        - Notifications
      summary: Отмечает все уведомления как прочитанные
      description: >-
        Отмечает все уведомления пользователя как прочитанные. Пользователь определяется по JWT.
      responses:
        "200":
          description: "{success: true}"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
        default:
          description: непредвиденная ошибка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  # customized data
  /ls/api/v1/reports/customreport:
    post:
      tags:
        - Reports
      summary: 'Данные по запрошенным в options источникам'
      description: |-
        Возвращает по указанным ТС данные по запрошенным в options источникам на каждую метку времени за указанный период
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - timeBegin
                - timeEnd
                - options
              properties:
                ids:
                  description: 'перечень ID ТС'
                  type: array
                  minItems: 1
                  items:
                    type: integer
                timeBegin:
                  description: |-
                    дата/время начала периода, timestamp. Точность - секунды
                  type: integer
                timeEnd:
                  description: |-
                    дата/время окончания периода, timestamp. Точность - секунды
                  type: integer
                options:
                  type: array
                  minItems: 1
                  items:
                    description: |-
                      опции, которые формируют перечень возвращаемых данных  
                      нужно указать идентификаторы одной или более основных опций
                      - univInputs - данные по универсальным входам
                      - iqFreeze - данные от системы IQFreeze

                      доплнительне опции
                      - navigation - возвращает навигационные данные, только при наличии данных по основной опции
                    type: string
                    enum: [ 'univInputs', 'iqFreeze', 'navigation' ]
                    # enum: ['navigation', 'univInputs', 'iqFreeze', 'lls']
      responses:
        200:
          description: ''
          content:
            application/json:
              schema:
                type: array
                items:
                  description: 'данные по ТС'
                  type: object
                  properties:
                    uuid:
                      description: 'UUID ТС, возвращается, если на вход были переданы uuids'
                      type: string
                      format: uuid
                    id:
                      description: 'ID ТС, возвращается, если на вход были переданы ids'
                      type: integer
                    name:
                      description: 'название ТС'
                      type: string
                    data:
                      type: array
                      items:
                        type: object
                        properties:
                          eventDate:
                            description: 'дата/время на которое собраны данные, timestamp, UTC 0'
                            type: integer
                          navigation:
                            description: 'навигационные данные по ТС. Возвращается, только если среди значений options указано navigation'
                            type: object
                            properties:
                              latitude:
                                description: 'широта. Если координаты невалидны, возвращается null'
                                type: number
                                format: double
                              longitude:
                                description: 'долгота. Если координаты невалидны, возвращается null'
                                type: number
                                format: double
                          univInputs:
                            description: 'данные по УВ ТС. Возвращается, только если среди значений options указано univInputs'
                            type: array
                            items:
                              type: object
                              properties:
                                number:
                                  description: 'номер УВ'
                                  type: integer
                                name:
                                  description: 'название УВ'
                                  type: string
                                value:
                                  description: 'обработанное значение'
                                  type: number
                          iqFreeze:
                            description: 'данные по iqFreeze. Возвращается, только если среди значений options указано iqFreeze'
                            type: object
                            properties:
                              temperatureMain:
                                description: 'Температура внутри основной (либо единственной) секции ХОУ, град. С'
                                type: number
                                format: double
                              temperature2:
                                description: 'Температура внутри 2-й секции рефрижератора, град. С'
                                type: number
                                format: double
                              temperature3:
                                description: 'Температура внутри 3-й секции рефрижератора, град. С'
                                type: number
                                format: double
                            # lls:
                            #   description: 'данные по LLS. Возвращается, только если среди значений options указано lls'
                            #   # вариант с массивом LLS
                            #   type: array
                            #   items:
                            #     type: object
                            #     properties:
                            #       number:
                            #         description: 'номер датчика'
                            #         type: integer
                            #       temperature:
                            #         description: 'температура, град. С'
                            #         type: integer
                            #       level:
                            #         description: 'уровень в единицах датчика'
                            #         type: integer
                            # вариант с раздельным описанием LLS
                            # type: object
                            # properties:
                            #   1:
                            #     description: 'данные по LLS 1. Передаются, если LLS 1 подключен'
                            #     type: object
                            #     properties:
                            #       temperature:
                            #         description: 'температура, град. С'
                            #         type: integer
                            #       level:
                            #         description: 'уровень в единицах датчика'
                            #         type: integer
                            #   2:
                            #     description: 'данные по LLS 2. Передаются, если LLS 2 подключен'
                            #     type: object
                            #     properties:
                            #       temperature:
                            #         description: 'температура, град. С'
                            #         type: integer
                            #       level:
                            #         description: 'уровень в единицах датчика'
                            #         type: integer
                            #   3:
                            #     description: 'данные по LLS 3. Передаются, если LLS 3 подключен'
                            #     type: object
                            #     properties:
                            #       temperature:
                            #         description: 'температура, град. С'
                            #         type: integer
                            #       level:
                            #         description: 'уровень в единицах датчика'
                            #         type: integer
                            #   4:
                            #     description: 'данные по LLS 4. Передаются, если LLS 4 подключен'
                            #     type: object
                            #     properties:
                            #       temperature:
                            #         description: 'температура, град. С'
                            #         type: integer
                            #       level:
                            #         description: 'уровень в единицах датчика'
                            #         type: integer
                            #   5:
                            #     description: 'данные по LLS 5. Передаются, если LLS 5 подключен'
                            #     type: object
                            #     properties:
                            #       temperature:
                            #         description: 'температура, град. С'
                            #         type: integer
                            #       level:
                            #         description: 'уровень в единицах датчика'
                            #         type: integer
                            #   6:
                            #     description: 'данные по LLS 6. Передаются, если LLS 6 подключен'
                            #     type: object
                            #     properties:
                            #       temperature:
                            #         description: 'температура, град. С'
                            #         type: integer
                            #       level:
                            #         description: 'уровень в единицах датчика'
                            #         type: integer

  # n-tanks
  #  /service/n-tanks/api/{versionNumber}/reportdata/timeseries:
  #    post:
  #      tags:
  #      - Time series n-tanks
  #      summary: 'Значения временных рядов данных по КО (контролируемого объекта, ТС) за период'
  #      description: |-
  #        Возвращает упорядоченные по времени наборы телематических данных, а также результат обработки (преобразование по функции, аггрегация и др) этих данных. В частности возвращает не сглаженные и сглаженные (с компенсацией колебаний уровня топлива опционально) значения объема топлива в емкостях КО за период по ID КО, списку ID емкостей. Сырой объем для емкости в момент времени рассчитывается по данным записей таблицы телеметрии КО с использованием индивидуальных тарировочных ДУТ (таблиц датчиков уровня топлива) на каждый период действия тарировочной таблицы по данным из профиля КО. В процессе чтения тарировочных таблиц производятся вычисления соответствующих кусочно-линейных функций (объектов интерполяции).
  #      # externalDocs:
  #      #   description: "Подробнее"
  #      #   url: "http://wiki.omnicomm.ru/pages/viewpage.action?pageId=12880149"
  #      parameters:
  #        - in: path
  #          name: versionNumber
  #          description: |-
  #            версия API
  #          schema:
  #            type: string
  #          required: true
  #        - name: obj_id
  #          in: query
  #          description: 'Идентификатор КО'
  #          required: true
  #          schema:
  #            $ref: '#/components/schemas/obj_id'
  #        - name: dateFrom
  #          in: query
  #          description: 'Дата начала периода'
  #          required: true
  #          schema:
  #            $ref: '#/components/schemas/date'
  #        - name: dateTo
  #          in: query
  #          description: 'Дата окончания периода'
  #          required: true
  #          schema:
  #            $ref: '#/components/schemas/date'
  #      requestBody:
  #        description: 'Параметры запроса'
  #        content:
  #          application/json:
  #            schema:
  #              $ref: '#/components/schemas/timeseriesQueryParams'
  #        required: true
  #      responses:
  #        200:
  #          description: 'Возвращаемые данные'
  #          content:
  #            application/json:
  #              schema:
  #                $ref: '#/components/schemas/timeseriesResponse'

  /ls/api/v1/nfuel/fueloperations:
    post:
      tags:
        - Nfuel
      summary: 'Список топливных операций за период'
      description: >-
        Returnes fuel events sorted by vehicle, time and volumetric capacity
         - - -
        Возвращает топливные события упорядоченные по КО, времени, емкости
      requestBody:
        required: true
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/fromToRequest'
                - $ref: '#/components/schemas/thingIds'
                - type: object
                  required:
                    - thingIds
                    - tank
                    - from
                    - to
                    - operation
                  properties:
                    tank:
                      $ref: '#/components/schemas/tankType'
                    operations:
                      description: 'Операции по которым будут возвращены данные: refueling, filling,   draining,unloading, delivery, refuelling-in-delivery, draining-in-delivery,   no_data_draining, no_data_refueling'
                      type: array
                      items:
                        type: string
                    addressParams:
                      description: 'Параметры детализации адреса'
                      type: object
                      properties:
                        address:
                          description: 'Признак необходимости возврата адреса, false если не указан'
                          type: boolean
                        city:
                          description: 'Признак необходимости возврата названия города, false если не   указан'
                          type: boolean
                        country:
                          description: 'Признак необходимости возврата названия страны, false если не   указан'
                          type: boolean
                        house:
                          description: 'Признак необходимости возврата номера дома, false если не указан'
                          type: boolean
                        postcode:
                          description: 'Признак необходимости возврата почтового индекса, false если не   указан'
                          type: boolean
                        region:
                          description: 'Признак необходимости возврата названия региона, false если не   указан'
                          type: boolean
                        street:
                          description: 'Признак необходимости возврата названия улицы, false если не   указан'
                          type: boolean
                        reduction:
                          description: 'Признак необходимости сокращения служебных слов, false если не   указан'
                          type: boolean
                    pageNum:
                      description: 'Индекс требуемой страницы. Первая стринца имеет индекс 1'
                      type: integer
                    rowsPerPage:
                      description: 'Строк на страницу'
                      type: integer
                    closestEventDate:
                      description: '(unixtime, сек). В ответе будут возвращены только событиия, близкие по   времени к указанной метке времени'
                      type: integer
                    deliveryGroups:
                      description: 'Признак, группировать выдачи или нет'
                      type: boolean

                  example:
                    thingIds:
                      - "b98d8e8f-5dcd-3f29-aa1a-2df995ef8255"
                    tank:
                      - ordinary
                      - delivery
                    from: 1553802200
                    to: 1563802500
                    operations:
                      - delivery
                      - filling
                      - draining

      responses:
        200:
          description: 'Returned data --- Возвращаемые данные'
          content:
            application/json:
              schema:
                type: object
                description: 'Данные по топливным операциям'
                properties:
                  data:
                    type: object
                    properties:
                      header:
                        description: |-
                          [1] thing - ID КО   
                          [2] thingName - наименование КО   
                          [3] operation - тип операции    
                          [4] tankNumber - ID ёмкости   
                          [5] tankName - наименование ёмкости   
                          [6] tankType - тип ёмкости    
                          [7] dateBegin - дата начала операции    
                          [8] dateEnd - дата окончания операции   
                          [9] initialVolume - объем операции на начало события, литры   
                          [10] finalVolume - объем операции на конец события, литры   
                          [11] operationVolume - объем операции, литры    
                          [12] address - адрес события
                          [13] speed - скорость за время топливной операции, км/ч
                        type: array
                        items:
                          type: string
                      rows:
                        description: 'Значения столбцов, в порядке соответствующему переданному в header'
                        type: array
                        items:
                          type: array
                          items:
                            anyOf:
                              - type: integer
                              - type: string
                      deliveryGroups:
                        description: 'Признак группировки выдач'
                        type: boolean
                      pageNum:
                        description: 'Номер страницы'
                        type: integer
                      pagesCount:
                        description: 'Всего страниц'
                        type: integer
                      rowIndex:
                        description: 'Опциональный параметр. Индекс строки на текущей странице, по которой запрашивалась синхронизация. Минимальное значение 1.'
                        type: integer
                  header:
                    type: object
                    properties:
                      opVolumes:
                        $ref: '#/components/schemas/opVolumes'
                      initialVolume:
                        description: 'Объём на дату начала отчёта'
                        type: integer
                      endVolume:
                        description: 'Объём на дату конца отчёта'
                        type: integer
              example:
                header:
                  opvolumes:
                    DRAINING: 351
                    REFUELING: 18843
                  initialVolume: 474.1
                  endVolume: 278
                data:
                  header:
                    - thing
                    - thingName
                    - operation
                    - tankNumber
                    - tankName
                    - tankType
                    - dateBegin
                    - dateEnd
                    - initialVolume
                    - finalVolume
                    - operationVolume
                    - address
                    - speed
                rows:
                  - - 7f4452b4-0886-39c3-b28f-89d575a66551
                    - null
                    - REFUELING
                    - 1
                    - null
                    - ordinary
                    - 1549035332
                    - 1549035812
                    - 124.5
                    - 217.9
                    - 93.4
                    - null
                    - 1.1
                deliveryGroups: false
                pageNum: 1
                pagesCount: 2
                rowIndex: null

  /ls/api/v1/nfuel/fuellevels:
    post:
      tags:
        - Nfuel
      summary: 'Сырой и сглаженный уровень топлива за период'
      description: 'Возвращает поточечные данные по сырому и сглаженному уровню топлива в разрезе топливной емкости'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/fromToRequest'
                - type: object
              required:
                - thingId
                - tankNmbs
                - from
                - to
              properties:
                thingId:
                  description: 'Идентификатор (UUID) ТС'
                  type: string
                tankNmbs:
                  description: 'Номера емкостей'
                  type: array
                  items:
                    type: string
              example:
                thingId: "b98d8e8f-5dcd-3f29-aa1a-2df995ef8255"
                tankNmbs:
                  - "1"
                from: 1563802200
                to: 1563802500
      responses:
        200:
          description: 'Returned data --- Возвращаемые данные'
          content:
            application/json:
              schema:
                type: object
                properties:
                  values:
                    description: 'Данные по объёму топлива в разрезе по емкостям. Если отчет был построен по нескольким емкостям, то вернется соответствующее количество массивов (1: [], 2: [],... 6: []), где содержимое массива представляет массивы данных по конкретной емкости [[eventDate,rawVolume,smoothVolume],[eventDate,rawVolume,smoothVolume]]'
                    type: object
                    properties:
                      1:
                        $ref: '#/components/schemas/fuelLevelsData'
                      2:
                        $ref: '#/components/schemas/fuelLevelsData'
                      3:
                        $ref: '#/components/schemas/fuelLevelsData'
                      4:
                        $ref: '#/components/schemas/fuelLevelsData'
                      5:
                        $ref: '#/components/schemas/fuelLevelsData'
                      6:
                        $ref: '#/components/schemas/fuelLevelsData'
                example:
                  values:
                    1:
                      - [ 1563802208, 238.3, 238.297 ]
                      - [ 1561803158, 180.4, 180.454 ]

                    2:
                      - [ 1563802208, 238.3, 238.297 ]
                      - [ 1561803158, 180.4, 180.454 ]

  /ls/api/v1/nfuel/statistics:
    post:
      tags:
        - Nfuel
      summary: 'Топливные статистические параметры в разрезе емкостей / типов емкостей'
      description: 'Агрегированная информация по объёмам топливных событий в разрезе емкостей / типов емкостей'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/fromToRequest'
                - $ref: '#/components/schemas/thingIds'
                - type: object
              required:
                - thingIds
                - tank
                - from
                - to
              properties:
                tankTypes:
                  $ref: '#/components/schemas/tankType'
            example:
              thingIds:
                - "b98d8e8f-5dcd-3f29-aa1a-2df995ef8255"
                - "b1111111-5dcd-3f29-aa1a-111111111111"
              tankTypes:
                - ordinary
              from: 1563802200
              to: 1563802500

      responses:
        200:
          description: 'Returned data --- Возвращаемые данные'
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/oneThingStatisticsResponse'
                  - $ref: '#/components/schemas/multipleThingsStatisticsResponse'
              examples:
                one:
                  value:
                    1:
                      type: ordinary
                      initialVolume: 18690.6
                      endVolume: 256.4
                      minVolume: 183.6
                      maxVolume: 76.2
                      consumption: 10066.30
                      opVolumes:
                        draining: 351
                        refueling: 9993.4
                    2:
                      type: delivery
                      initialVolume: 18690.6
                      endVolume: 256.4
                      minVolume: 183.6
                      maxVolume: 76.2
                      consumption: 10066.30
                      opVolumes:
                        draining: 351
                        refueling: 9993.4
                two:
                  value:
                    ordinary:
                      avgConsumption: 18690.6
                      totalConsumption: 256.4
                      opVolumes:
                        draining: 351
                        refueling: 9993.4
                    delivery:
                      avgConsumption: 18690.6
                      totalConsumption: 256.4
                      opVolumes:
                        draining: 351
                        refueling: 9993.4

  /ls/api/v1/reports/currentState:
    post:
      tags:
        - Reports
      summary: 'Данные по текущему состоянию ТС'
      description: 'Возвращает данные о последнем зарегистрированном состоянии ТС'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - ids
              properties:
                ids:
                  description: 'ID ТС'
                  type: array
                  items:
                    type: integer
      responses:
        200:
          description: 'Returned data --- Возвращаемые данные'
          content:
            application/json:
              schema:
                type: object
                description: 'Данные о последнем зарегистрированном состоянии ТС, Если значение какого-либо числового параметра не определено, возвращается NULL'
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        uuid:
                          description: 'Уникальный идентификатор'
                          type: string
                        regNumb:
                          description: 'Регистрационный номер'
                          type: string
                        eventDate:
                          description: 'Дата/время события (timestamp, сек)'
                          type: integer
                        latitude:
                          description: 'Широта'
                          type: number
                        longtitude:
                          description: 'Долгота'
                          type: number
                        currentFuelVolumeTank1:
                          description: 'Текущий уровень топлива в л.'
                          type: integer
                        currentFuelVolumeTank2:
                          description: 'Текущий уровень топлива в л.'
                          type: integer
                        speed:
                          description: 'Скорость (км/ч)'
                          type: integer
                        direction:
                          description: 'направление (градусы 0-359, 0 - север, 90 - восток, 180 - юг, 270 - запад)'
                          type: integer
                        currentIgn:
                          description: 'Статус зажигания'
                          type: boolean
                        discreteOutputStatus:
                          description: 'Статус использования дискретного выхода'
                          type: boolean
                        engineWork:
                          description: 'Статус работы двигателя: enum?'
                          type: string
        404:
          description: 'code = 2 - Ошибка. ТС не найдено'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 2
                  message: 'No such vehicles: 1138000000, 1138000001, 1138000002'
        400:
          description: 'code = 3 - Ошибка. Параметр не найден или задано невалидное значение'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 3
                  message: 'Missing or incorrect value for parameters: %parameter_name%'

  /ls/api/v1/reports/rpms:
    post:
      tags:
        - Reports
      summary: 'Данные отчета "Обороты двигателя"'
      description: 'Возвращает поточечные данные по количеству оборотов двигателя'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - toDatetime
                - fromDatetime
                - vehicleID
              properties:
                vehicleIds:
                  description: 'ID ТС'
                  type: array
                  items:
                    type: integer
                toDatetime:
                  description: 'Дата/время по которое выбираются обороты двигателя (timestamp, сек)'
                  type: integer
                fromDatetime:
                  description: 'Дата/время с которого выбираются обороты двигателя (timestamp, сек)'
                  type: integer
      responses:
        200:
          description: 'Returned data --- Возвращаемые данные'
          content:
            application/json:
              schema:
                type: object
                description: 'Поточечные данные по количеству оборотов двигателя'
                properties:
                  data:
                    description: 'Данные по оборотам в разрезее ТС и даты'
                    type: array
                    items:
                      type: object
                      properties:
                        vehicleId:
                          description: 'ID ТС'
                          type: integer
                        rpms:
                          type: array
                          items:
                            type: object
                            properties:
                              eventDate:
                                description: 'Дата/время события (timestamp, сек)'
                                type: integer
                              value:
                                description: 'Количество оборотов'
                                type: integer
                  excludes:
                    description: 'Список ID ТС по которым не вернулись данные'
                    type: array
                    items:
                      type: integer
        404:
          description: 'code = 2 - Ошибка. ТС не найдено'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 2
                  message: 'No such vehicles: 1138000000, 1138000001, 1138000002'
        400:
          description: 'code = 3 - Ошибка. Параметр не найден или задано невалидное значение'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 3
                  message: 'Missing or incorrect value for parameters: toDatetime, fromDatetime'

  /ls/api/v1/reports/geozones:
    post:
      tags:
        - Reports
      summary: 'Отчет посещение геозон'
      description: 'Возвращает данные о событиях посещениях геозон и статистических данных по ним'
      parameters:
        - name: Authorization
          in: header
          description: 'JWT token для авторизации'
          required: true
          schema:
            type: string
          example: 'JWT {jwtToken}'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - timeBegin
                - timeEnd
              properties:
                vehicleIds:
                  description: 'ID ТС'
                  type: array
                  items:
                    type: integer
                geozoneIds:
                  description: 'ID геозон'
                  type: array
                  items:
                    type: integer
                timeBegin:
                  description: 'Дата/время начала отчета, timestamp секунды'
                  type: integer
                timeEnd:
                  description: 'Дата/время конца отчета, timestamp секунды'
                  type: integer
                minDurationTime:
                  description: 'Минимальное длительность посещения, минут'
                  type: integer
                outsideGeozones:
                  description: 'Рассчитывать движение вне геозон'
                  type: boolean
      responses:
        200:
          description: 'Returned data --- Возвращаемые данные'
          content:
            application/json:
              schema:
                type: object
                description: 'Данные по событиям посещения геозон. Возвращаются только исходные события и статистика по ним, без строк Итого из отчёта '
                properties:
                  vehicleId:
                    description: 'ID ТС'
                    type: integer
                  vehicleName:
                    description: 'Название ТС'
                    type: string
                  geozoneId:
                    description: 'ID геозоны'
                    type: integer
                  geozoneName:
                    description: 'Название геозоны'
                    type: string
                  geoInfo:
                    type: object
                    description: 'Информация по пребыванию в геозоне'
                    properties:
                      startDate:
                        description: 'Время входа в геозону, timestamp сек'
                        type: integer
                      endDate:
                        description: 'Время выхода из геозоны, timestamp сек'
                        type: integer
                      duration:
                        description: 'Время пребывания в геозоне, сек'
                        type: integer
                  mv:
                    type: object
                    description: 'Движение и работа'
                    properties:
                      mileage:
                        description: 'Пробег (км)'
                        type: number
                      mileageSpeeding:
                        description: 'Пробег с превышением скорости (км)'
                        type: number
                      averageSpeed:
                        description: 'Средняя скорость в движении (км/ч)'
                        type: number
                      maxSpeed:
                        description: 'Максимальная скорость (км/ч)'
                        type: number
                      movement:
                        description: 'Время движения (с) '
                        type: integer
                        format: int64
                      movementPercent:
                        description: 'Время движения (% от периода отчёта)'
                        type: number
                      worked:
                        description: 'Время работы двигателя (с)'
                        type: integer
                        format: int64
                      workedPercent:
                        description: 'Время работы двигателя (% от периода отчёта)'
                        type: number
                      workedOnMovement:
                        description: 'Время работы двигателя в движении (с) '
                        type: integer
                        format: int64
                      workedOnMovementPercent:
                        description: 'Время работы двигателя в движении (% от периода отчёта)'
                        type: number
                      workedNoMovement:
                        description: 'Время работы двигателя без движения (с)'
                        type: integer
                        format: int64
                      workedNoMovementPercent:
                        description: 'Время работы двигателя без движения (% от периода отчёта)'
                        type: number
                      excessRPM:
                        description: 'Время работы двигателя на предельных оборотах (с)'
                        type: integer
                        format: int64
                      idlingRPM:
                        description: 'Время работы двигателя на холостом ходу (с)'
                        type: integer
                        format: int64
                      normalRPM:
                        description: 'Время работы двигателя на нормальных оборотах (с)'
                        type: integer
                        format: int64
                      layUp:
                        description: 'Время с выключенным двигателем (с)'
                        type: integer
                        format: int64
                      layUpPercent:
                        description: 'Время с выключенным двигателем (% от периода отчёта)'
                        type: number
                  fuel:
                    type: object
                    description: 'Данные по топливу'
                    properties:
                      endVolume:
                        description: 'Конечный объём (дл)'
                        type: number
                      startVolume:
                        description: 'Начальный объём (дл)'
                        type: number
                      fuelConsumption:
                        description: 'Фактический расход (дл)'
                        type: number
                      refuelling:
                        description: 'Объём заправок (дл)'
                        type: number
                      draining:
                        description: 'Объём сливов (дл)'
                        type: number
                      maxVolume:
                        description: 'Максимальный объём (дл)'
                        type: number
                      minVolume:
                        description: 'Минимальный объём (дл)'
                        type: number
                      fuelConsumptionOnMove:
                        description: 'Фактический расход в движении (дл)'
                        type: number
                      fuelConsumptionWOMovement:
                        description: 'Фактический расход без движения (дл)'
                        type: number
                      fuelConsMH:
                        description: 'Фактический расход за час работы двигателя (дл)'
                        type: number
                      dutyConsumptionMH:
                        description: 'Норма расхода на час работы двигателя (л)'
                        type: number
                      normConsumptionMH:
                        description: 'Расчетный расход по норме на час работы двигателя (л)'
                        type: number
                      fuelConsEx:
                        description: 'Перерасход от нормы на час работы двигателя (л)'
                        type: number
                      fuelConsDev:
                        description: 'Отклонение от нормы на час работы двигателя (%)'
                        type: number
                  fuelecon:
                    type: object
                    description: 'Топливо (Параметры экономичности)'
                    properties:
                      fuelCons100:
                        description: 'Фактический расход на 100 км (дл)'
                        type: number
                      fuelConsumptionOnMove100:
                        description: 'Фактический расход на 100 км в движении (дл)'
                        type: number
                      dutyConsumption100:
                        description: 'Норма расхода на 100 км (л)'
                        type: number
                      normCons100:
                        description: 'Расчетный расход по норме на 100 км (л)'
                        type: number
                      fuelConsDev:
                        description: 'Отклонение от нормы на час работы двигателя (%)'
                        type: number
                      fuelConsEx:
                        description: 'Перерасход от нормы на час работы двигателя (л)'
                        type: number
                  cultivation:
                    type: object
                    description: 'Данные по обработке площадей'
                    properties:
                      processedArea:
                        description: 'Обработанная площадь. Сумма значений площадей по отрезкам посещений геозон'
                        type: number
                      specificConsumption:
                        description: 'Удельный расход. 0.01 uvs /га'
                        type: number
                      performance:
                        description: 'Производительность, га/час'
                        type: number
                  uniData:
                    type: array
                    items:
                      type: object
                      description: 'Данные по обработке площадей'
                      properties:
                        univInputNumber:
                          description: 'Номер универсального входа'
                          type: number
                        univInputSumValue:
                          description: 'Суммарное значение за период'
                          type: number
                        univInputOnTime:
                          description: 'Время работы (с)'
                          type: integer
                          format: int64
                        univInputOnTimePercent:
                          description: 'Время работы (% от периода отчета)'
                          type: number
                        univInputOffTime:
                          description: 'Время простоя'
                          type: integer
                          format: int64
                        univInputOffTimePercent:
                          description: 'Время простоя (% от периода отчета)'
                          type: number
                        univInputTimeBelowMaxValue:
                          description: 'Время работы ниже допустимого значения (с)'
                          type: integer
                          format: int64
                        univInputTimeBelowMaxValuePercent:
                          description: 'Время работы ниже допустимого значения (% от периода отчета)'
                          type: number
                        univInputTimeExceedMaxValue:
                          description: 'Время работы выше допустимого значения (с)'
                          type: integer
                          format: int64
                        univInputTimeExceedMaxValuePercent:
                          description: 'Время работы выше допустимого значения (% от периода отчета)'
                          type: number
                        univInputOnMileage:
                          description: 'Пробег с работающим дополнительным оборудованием (км)'
                          type: number
                        univInputMaxValue:
                          description: 'Максимальное значение за период'
                          type: number
                        univInputMinValue:
                          description: 'Минимальное значение за период'
                          type: number

        404:
          description: 'code = 1 - Ошибка. Геозона не найдена. code = 2 - Ошибка. ТС не найдена. Возвращается если среди указанных массивов геозон или машины в системе не найдено ни одного элемента'
          content:

            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                - status:
                  code: 2
                  message: 'No such vehicles: 1138000000, 1138000001, 1138000002'
                - status:
                  code: 1
                  message: 'No such geozones: 1138000000, 1138000001, 1138000002'
        400:
          description: 'code = 3 - Ошибка. Параметр не найден или задано невалидное значение'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 3
                  message: 'Missing or incorrect value for parameters: %parameter_name%'
  /ls/api/v1/click/log:
    post:
      tags:
        - Reports
      summary: 'Данные отчета "Журнал"'
      description: 'Возвращает данные отчета "Журнал"'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - terminalId
                - dateFrom
                - dateTo
              properties:
                terminalId:
                  description: 'Идентификатор терминала'
                  type: integer
                dateFrom:
                  description: 'Дата/время с которого выбираются данные (timestamp, сек)'
                  type: integer
                dateTo:
                  description: 'Дата/время по которое выбираются данные (timestamp, сек)'
                  type: integer
                groups:
                  description: 'Возможные группы данных ["GENERAL","NAVI","UNIVAL","CAN","OBD","MODBUS","LLS","IQFREEZE"]'
                  type: array
                  items:
                    type: string
                columns:
                  description: 'Столбцы, например ["VEHICLE_ID","EVENT_DATE","LLS_CODE","LLS_CODE_PRESENT","BAT_LIFE","BAT_LIFE_PRESENT"]. Можно получить запрос с необходимой группой данных, а затем включить только те столбцы, которые необходимы'
                  type: array
                  items:
                    type: string
      responses:
        200:
          description: 'Возвращаемые данные'
          content:
            application/json:
              schema:
                type: object
                properties:
                  terminalId:
                    description: 'Идентификатор терминала'
                    type: integer
                    format: int32
                  dateFrom:
                    description: 'Дата/время с которого выбираются данные (timestamp, сек)'
                    type: integer
                    format: int64
                  dateTo:
                    description: 'Дата/время по которое выбираются данные (timestamp, сек)'
                    type: integer
                    format: int64
                  columns:
                    type: array
                    items:
                      type: object
                      additionalProperties:
                        description: 'Дополнительные свойства'
                        type: object
        400:
          description: 'Ошибка. ТС не найдено'
          content:
            application/json:
              example:
                message: 'You don t have a vehicle {terminalId}'
  /ls/api/v1/click/log/additional:
    post:
      tags:
        - Reports
      summary: 'Данные CAN и Modbus'
      description: 'Возвращает технологические параметры CAN и Modbus'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - vehicleId
                - dateFrom
                - dateTo
              properties:
                vehicleId:
                  description: 'Идентификатор терминала'
                  type: integer
                dateFrom:
                  description: 'Дата/время с которого выбираются данные (timestamp, сек)'
                  type: integer
                dateTo:
                  description: 'Дата/время по которое выбираются данные (timestamp, сек)'
                  type: integer

      responses:
        200:
          description: 'Возвращаемые данные'
          content:
            application/json:
              schema:
                type: object
                properties:
                  exCanData:
                    description: 'Параметры CAN'
                    type: array
                    items:
                      type: object
                      properties:
                        eventDate:
                          description: 'Дата события'
                          type: integer
                        jsonCanData:
                          description: 'Параметры CAN'
                          type: object
                  modbusData:
                    description: 'Параметры Modbus'
                    type: array
                    items:
                      type: object
                      properties:
                        eventDate:
                          description: 'Дата события'
                          type: integer
                        jsonCanData:
                          description: 'Параметры Modbus'
                          type: object

        400:
          description: 'Ошибка. ТС не найдено'
          content:
            application/json:
              example:
                message: 'You don t have a vehicle {vehicleId}'

  /service/reports/flexible_reports/users_reports/my:
    get:
      tags:
        - Reports
      summary: 'Получение списка гибких отчетов'
      description: >-
        Возвращает данные о списке доступных пользователю гибких отчетов

      responses:
        200:
          description: >-
            Данные о гибких отчетах
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      description: 'ID гибкого отчета для использования в других методах'
                      type: integer
                    title:
                      description: 'Название гибкого отчета'
                      type: string

  /service/reports/:
    post:
      tags:
        - Reports
      summary: 'Получение гибкого отчета по id гибкого отчета'
      description: 'Возвращает данные о событиях посещениях геозон и статистических данных по ним'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - from
                - to
                - flexibleReportId
                - ts_ids
              properties:
                type:
                  description: 'Всегда должен содержать строку flexible_report'
                  type: string
                sync:
                  description: 'ID геозон'
                  type: integer
                params:
                  $ref: '#/components/schemas/params'
      responses:
        200:
          description: 'Returned data --- Возвращаемые данные'
          content:
            application/json:
              schema:
                type: object
                description: 'Данные по гибкому отчету за запрошенный промежуток'
                properties:
                  id:
                    description: 'id построенного отчета'
                    type: string
                  user_id:
                    description: 'id пользователя из jwt'
                    type: integer
                  status:
                    description: 'Должен быть SUCCESS если иначе, то не стоит обрабатывать такой ответ'
                    type: string
                  status_text:
                    description: 'Уточнение для локализации проблем'
                    type: string
                  type:
                    type: string
                    description: 'Всегда содержит flexible_report'
                  progress:
                    type: integer
                    description: 'Не использовать'
                  params:
                    allOf:
                      - $ref: '#/components/schemas/params'
                      - type: object
                        properties:
                          _server:
                            description: 'Сервер на котором находится пользователь'
                            type: string
                          _user_id:
                            description: 'ID пользователя'
                            type: integer
                  results:
                    type: object
                    description: 'Содержит данные из отчета и по каким параметрам строился отчет'
                    properties:
                      rows:
                        type: array
                        items:
                          type: object
                          properties:
                            anyField:
                              description: 'Данные меняются от отчета к отчету, нужно смотреть на структуру отдельного отчета'
                      params:
                        allOf:
                          - $ref: '#/components/schemas/params'
                          - type: object
                            properties:
                              _server:
                                description: 'Сервер на котором находится пользователь'
                                type: string
                              _user_id:
                                description: 'ID пользователя'
                                type: integer
                      vehicles:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                              description: 'Имя ТС'
                            uuid:
                              type: string
                              description: 'uuid ТС'
                            terminal_id:
                              type: integer
                              description: 'ID ТС'
                            terminal_type:
                              type: string
                              description: 'Тип терминала, возможные значения FTC - топливозаправщик и FAS '
                  expire_date:
                    type: string
                    description: 'Время истечения валидности отчета в формате 2020-06-08T14:35:10.789Z'
                  is_locked:
                    type: boolean
                    description: 'Заблокирован отчет на фронте или нет'
                  is_modified:
                    type: boolean
                    description: 'Не использовать'
                  created_at:
                    type: string
                    description: 'Время создания отчета'
                  updated_at:
                    type: string
                    description: 'Не использовать'
                  finished_at:
                    type: string
                    description: 'Не использовать'
                  viewed_at:
                    type: string
                    description: 'Не использовать'
                  columns:
                    type: string
                    description: 'Не использовать'
                  name:
                    type: string
                    description: 'Не использовать'

  /ls/api/v1/reports/clients:
    post:
      tags:
        - Reports
      summary: 'Данные отчета "Услуги"'
      description: 'Возвращает информацию по отчету Услуги'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - mm
                - yy
              properties:
                mm:
                  description: 'Месяц'
                  type: integer
                yy:
                  description: 'Год'
                  type: integer
      responses:
        200:
          description: 'Returned data --- Возвращаемые данные'
          content:
            application/json:
              schema:
                description: 'Данные отчета Услуги, Если значение какого-либо числового параметра не определено, возвращается Error: "An unexpected error occurred"'
                type: array
                items:
                  type: object
                  properties:
                    login:
                      description: 'Логин'
                      type: string
                    client_name:
                      description: 'Имя клиента'
                      type: string
                    inn:
                      description: 'Уникальный финансовый идентификатор'
                      type: string
                    add_fin_id:
                      description: 'Дополнительный финансовый идентификатор'
                      type: string
                    registration_number:
                      description: 'Название ТС'
                      type: string
                    start_day:
                      description: 'Первая активность (день)'
                      type: number
                    finish_day:
                      description: 'Последняя активность (день)'
                      type: number
                    count:
                      description: 'Число дней активности'
                      type: number
                    terminal_id:
                      description: 'ID терминала'
                      type: number
                    manufactory_id:
                      description: 'Заводской номер'
                      type: string
                    tariff:
                      description: 'Тариф'
                      type: string
                    services:
                      description: 'Список услуг. Активные услуги, всегда возвращается со значением 1. Если активные услуги отсутствуют, возвращается пустой объект'
                      type: object
                      properties:
                        Farming:
                          description: 'Farming'
                          type: number
                          example: 1
                        OnlineDashboard:
                          description: 'Рабочий стол руководителя'
                          type: number
                          example: 1
                        OnlineSafeDriving:
                          description: 'Безопасное вождение'
                          type: number
                          example: 1
                        OnlineFuel:
                          description: 'Топливный баланс'
                          type: number
                          example: 1
                        OnlineConnect:
                          description: 'Omnicomm Connect Отчеты'
                          type: number
                          example: 1
                        OnlineVideo1:
                          description: 'Omnicomm Video 1 Гб'
                          type: number
                          example: 1
                        OnlineVideo5:
                          description: 'Omnicomm Video 5 Гб'
                          type: number
                          example: 1

  /ls/api/v1/reports/failures:
    post:
      tags:
        - Reports
      summary: 'Данные отчета "Сбои оборудования"'
      description: 'Возвращает данные отчета "Сбои оборудования". Если какое-то значение не определено возвращаещается -1, если сбои за период отсутствуют возвращается пустой массив.'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - vehicleIds
                - startEventDate
                - endEventDate
                - failureTypeID
              properties:
                vehicleIds:
                  description: 'Идентификатор терминала, через запятую'
                  type: string
                startEventDate:
                  description: 'Дата/время с которого выбираются данные (Unix time stamp (ms))'
                  type: integer
                endEventDate:
                  description: 'Дата/время по которое выбираются данные (Unix time stamp (ms))'
                  type: integer
                failureTypeID:
                  description: 'Тип сбоя [1,2,4,6,7,8,12,13,14,19,20]. Где 1 - Потеря GPS/Глонасс, 2 - Топливо не измерено, 4 - ДУТ не отвечает, 6 - Некорректный минимум ДУТ, 7 - Некорректный максимум ДУТ, 8 - Движение с выключенным зажиганием, 12 - Длительный простой, 13 - Пробелы в данных, 14 - Отсутствие данных по оборотам, 19 - Пропал со связи, 20 - Скачок показаний ДУТ на максимум'
                  type: array
                  items:
                    type: integer
      responses:
        200:
          description: 'Возвращаемые данные'
          content:
            application/json:
              schema:
                type: object
                properties:
                  vehicleID:
                    description: 'Идентификатор терминала'
                    type: integer
                    format: int32
                  vehicleName:
                    description: 'Имя ТС'
                    type: string
                  failureTypeID:
                    description: 'Тип сбоя [1,2,4,6,7,8,12,13,14,19,20]. Где 1 - Потеря GPS/Глонасс, 2 - Топливо не измерено, 4 - ДУТ не отвечает, 6 - Некорректный минимум ДУТ, 7 - Некорректный максимум ДУТ, 8 - Движение с выключенным зажиганием, 12 - Длительный простой, 13 - Пробелы в данных, 14 - Отсутствие данных по оборотам, 19 - Пропал со связи, 20 - Скачок показаний ДУТ на максимум'
                    type: integer
                    format: int32
                  startEventDate:
                    description: 'Дата/время начала события (Unix time stamp (ms)).'
                    type: integer
                    format: int64
                  endEventDate:
                    description: 'Дата/время окончания события (Unix time stamp (ms)).'
                    type: integer
                    format: int64
                  startLatitude:
                    description: 'Широта на начало события'
                    type: number
                    format: double
                  startLongitude:
                    description: 'Долгота на начало события'
                    type: number
                    format: double
                  failureAddress:
                    description: 'Адрес события'
                    type: string
                  terminalType:
                    description: 'Тип терминала'
                    type: string
              examples:
                one:
                  value:
                    vehicleID: 202001324
                    vehicleName: Scania
                    failureTypeID: 1
                    startEventDate: 1689886800000
                    endEventDate: 1690405140000
                    startLatitude: 55.8971516
                    startLongitude: 92.5000983
                    failureAddress: Солнечная улица, Манский, городской округ Дивногорск, Красноярский край, Сибирский федеральный округ, 663082, Россия
                    terminalType: OMNICOMM PROFI
        400:
          description: 'Транспортное средство или пользователь не существует'
          content:
            application/json:
              example:
                message: 'Vehicle or user does not exist or null'

  /ls/api/v1/drivers:
    get:
      tags:
        - Reports_under_construction
      summary: Показывает дерево Водителей
      description: >-
        Метод предназначен для получения по пользователю перечня Водителей с группами Водителей в виде дерева. Определяет пользователя по JWT. Если водитель находится в нескольких папках данные по нему будут выведены несколько раз
      responses:
        "200":
          description: |-
            данные для построения дерева ТС
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DriversTree"

  /ls/api/v1/vehicles/dataCapture/change:
    post:
      tags:
        - Vehicles
      summary: 'Включение/выключение приема данных по терминалу '
      description: 'Позволяет изменить состояние приема данных по терминалу'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - vehicleId
                - state
              properties:
                vehicleId:
                  description: 'ID ТС'
                  type: string
                state:
                  description: 'true - прием данных включен, false - прием данных выключен'
                  type: string
      responses:
        200:
          description: 'code = 0 - Уcпешно изменено состояние приёма данных по ТС. code = 1 не изменено состояние приёма данных по ТС'
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/responseStatus'
                  - type: object
                    description: 'Данные о состоянии приёма данных по ТС'
                    properties:
                      vehicleId:
                        description: 'ID ТС'
                        type: string
                      state:
                        description: 'true - прием данных включен, false - прием данных выключен'
                        type: string
        404:
          description: 'code = 2 - Ошибка. ТС не найдено'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 2
                  message: 'No such vehicle: 1138000000'
        400:
          description: 'code = 3 - Ошибка. Параметр не найден или задано невалидное значение'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responseStatus'
              example:
                status:
                  code: 3
                  message: 'Missing or incorrect value for parameters: %parameter_name%'

  /ls/api/v1/fuelcards/load-transactions:
    post:
      tags:
        - FuelCards
      summary: 'Загрузка топливных транзакций.'
      description: 'Позволяет загрузить топливные транзакции из файла формата .csv.'
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  description: 'csv file with columns | id | card | uid | date | volume |'
                  type: string
                  format: binary
      responses:
        200:
          description: 'Транзакции загружены успешно.'
          content:
            application/json:
              schema:
                type: object
                example:
                  message: 'Transactions uploaded successfully :  5'
        400:
          description: 'Ошибка. Возможные ошибки перечислены в example.'
          content:
            application/json:
              schema:
                type: object
                example:
                  message1: 'Fuel cards not found'
                  message2: 'Attempt to re-save the transactional'
                  message3: 'Transactions not found in file'
                  message4: 'No transactions found for existing cards'
                  message5: 'The file is invalid or empty'
                  message6: 'You don t have permission to load this transaction'
                  message7: 'You re trying to add a date that hasn t arrived yet'
                  message8: 'File not found in field "file" to save'
                  message9: 'Incorrect file format'
                  message10: 'File is too big to upload, maximum size 1000 mb'

security:
  - bearerAuth: [ ]

components:
  securitySchemes:
    bearerAuth:
      # arbitrary name for the security scheme
      type: apiKey
      in: header
      name: Authorization

  schemas:
    #other

    loginParameters:
      required:
        - login
        - password
      type: object
      properties:
        login:
          type: string
          example: rudemoru
        password:
          type: string
          example: rudemo123456

    loginResponce:
      properties:
        jwt:
          type: string
        refresh:
          type: string

    #OVMS
    TaskListRequest:
      type: object
      properties:
        page_size:
          type: string
          example: 50
          description: ''
        sortby:
          type: string
          example: id
        order:
          type: string
          example: DESC
        page:
          type: integer
          example: 1
        show_last_page:
          type: number
          example: 0
          description: 0 или 1 (true/false)
        reg_ids:
          type: string
          example: [ 112,12,13,1 ]
          description: Массив reg_id
        time_from:
          type: string
          example: 1531145788000
          description: |-
            Время начала видео "от" (unix timestamp в миллисекундах)
        time_to:
          type: string
          example: 1531145788000
          description: |-
            Время начала видео "до" (unix timestamp в миллисекундах)
        time_end_from:
          type: string
          example: 1531145788000
          description: |-
            Время окончания видео "от" (unix timestamp в миллисекундах)
        time_end_to:
          type: string
          example: 1531145788000
          description: |-
            Время окончания видео "до" (unix timestamp в миллисекундах)
        created_from:
          type: string
          example: 1531145788000
          description: |-
            Время создания заказа "от" (unix timestamp в миллисекундах)
        created_to:
          type: string
          example: 1531145788000
          description: |-
            Время создания заказа "до" (unix timestamp в миллисекундах)
        updated_from:
          type: string
          example: 1531145788000
          description: |-
            Время обновления статуса заказа "от" (unix timestamp в миллисекундах)
        updated_to:
          type: string
          example: 1531145788000
          description: |-
            Время обновления статуса заказа "до" (unix timestamp в миллисекундах)

    TaskListResponse:
      required:
        - current_page
        - data
        - from
        - last_page
        - next_page_url
        - path
        - per_page
        - prev_page_url
        - to
        - total
      type: object
      properties:
        current_page:
          type: integer
          format: int32
          example: 1
        data:
          type: array
          items:
            $ref: '#/components/schemas/Task'
          description: ''
        from:
          type: integer
          format: int32
          example: 1
        last_page:
          type: integer
          format: int32
          example: 1
        next_page_url:
          type: string
          nullable: true
        path:
          type: string
          example: http://online.omnicomm.ru/api/tasks/list
        per_page:
          type: string
          example: 100
        prev_page_url:
          type: string
          nullable: true
        to:
          type: integer
          format: int32
          example: 1
        total:
          type: integer
          format: int32
          example: 1

    Task:
      required:
        - id
        - author_id
        - reg_id
        - ttl
        - time_start
        - time_end
        - created_at
        - updated_at
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 444
          description: 'id заказа'
        deleted_at:
          type: string
          nullable: true
          description: 'время удаления заказа'
        author_id:
          type: integer
          format: int32
          example: 1540212
          description: 'user_id в FES'
        reg_id:
          type: integer
          format: int32
          example: 346999999
          description: 'id терминала'
        ttl:
          type: integer
          format: int32
          example: 0
          description: |-
            максимальное время ожидания заказа в секундах
        channel_id:
          type: integer
          format: int32
          example: 3
          description: 'id канала (камеры)'
        size_kb:
          type: integer
          format: int32
          example: 2913
          description: 'размер видео файла'
        time_start:
          type: integer
          format: int64
          example: 1519033260000
          description: |-
            время начала видеофрагмента (unix timestamp в миллисекундах)
        time_end:
          type: integer
          format: int64
          example: 1519033328000
          description: |-
            время конца видеофрагмента (unix timestamp в миллисекундах)
        last_query:
          type: integer
          format: int64
          example: 1519050502000
          description: |-
            время последнего запроса системы. Внутренняя информация (unix timestamp в миллисекундах)
        query_qty:
          type: integer
          format: int32
          example: 10540
          description: |-
            количество запросов системы. Внутренняя информация
        status:
          type: string
          enum: [ queued, in progress, done, idle, canceled, error ]
          example: queued
          description: 'Статус заказа [queued, in progress, done, idle, canceled, error]'
        error_code:
          type: string
          nullable: true
          description: 'Описание ошибки'
        created_at:
          type: integer
          format: int64
          example: 1519036905000
          description: |-
            время создания задания (unix timestamp в миллисекундах)
        updated_at:
          type: integer
          format: int64
          example: 1519050502000
          description: |-
            время изменения статуса задания (unix timestamp в миллисекундах)
        channel_name:
          type: string
          example: channel 1
          description: 'имя канала'

    TaskAddRequest:
      required:
        - time_start
        - time_end
        - reg_id
        - channel_id
        - ttl
        - priority
      type: object
      properties:
        time_start:
          type: number
          example: 1529485514000
          description: |-
            время начала видеофрагмента (unix timestamp)
        time_end:
          type: number
          example: 1529485614000
          description: |-
            время окончания видеофрагмента (unix timestamp)
        reg_id:
          type: number
          example: 346999999
          description: 'id терминала'
        channel_id:
          type: number
          example: 4
          description: 'id канала (камеры)'
        ttl:
          type: number
          example: 0
          description: |-
            максимальное время ожидания загрузки в секундах (0 - бесконечно)
        priority:
          type: integer
          example: 1

    TaskAddResponse:
      required:
        - id
        - author_id
        - reg_id
        - ttl
        - time_start
        - time_end
        - created_at
        - updated_at
        - channel_id
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 444
          description: 'id заказа'
        author_id:
          type: integer
          format: int32
          example: 1540212
          description: 'user_id в FES'
        reg_id:
          type: integer
          format: int32
          example: 346999999
          description: 'id терминала'
        ttl:
          type: integer
          format: int32
          example: 0
          description: |-
            максимальное время ожидания заказа в секундах
        channel_id:
          type: integer
          format: int32
          example: 4
          description: 'id канала (камеры)'
        time_start:
          type: integer
          format: int64
          example: 1519033260000
          description: |-
            время начала видеофрагмента (unix timestamp в миллисекундах)
        time_end:
          type: integer
          format: int64
          example: 1519033328000
          description: |-
            время конца видеофрагмента (unix timestamp в миллисекундах)
        status:
          type: string
          example: queued
          description: 'Статус заказа queued'
        created_at:
          type: integer
          format: int64
          example: 1519036905000
          description: |-
            время создания задания (unix timestamp в миллисекундах)
        updated_at:
          type: integer
          format: int64
          example: 1519050502000
          description: |-
            время изменения статуса задания (unix timestamp в миллисекундах)

    ProfileAddRequest:
      required:
        - video_length_before
        - video_length_after
        - ch1_is_active
        - ch1_name
        - ch2_is_active
        - ch2_name
        - ch3_is_active
        - ch3_name
        - ch4_is_active
        - ch4_name
        - video_reg_id
        - reg_id
        - overflow_type
        - size_mb
      type: object
      properties:
        video_length_before:
          type: integer
          example: 30
          description: |-
            Длина видео до метки события в секундах'
        video_length_after:
          type: integer
          example: 30
          description: |-
            Длина видео после метки события в секундах
        ch1_is_active:
          type: integer
          enum: [ 0, 1 ]
          example: 0
          description: |-
            Активность канала 1 (0 - выключен/ 1 - включен)
        ch1_name:
          type: string
          example: Канал 1
          description: 'Название канала 1'
        ch2_is_active:
          type: integer
          enum: [ 0, 1 ]
          example: 0
          description: |-
            Активность канала 2 (0 - выключен / 1 - включен)
        ch2_name:
          type: string
          example: Канал 2
          description: 'Название канала 2'
        ch3_is_active:
          type: integer
          enum: [ 0, 1 ]
          example: 1
          description: |-
            Активность канала 3 (0 - выключен / 1 - включен)
        ch3_name:
          type: string
          example: Канал 3
          description: 'Название канала 3'
        ch4_is_active:
          type: integer
          enum: [ 0, 1 ]
          example: 0
          description: |-
            Активность канала 4 (0 - выключен/ 1 - включен)
        ch4_name:
          type: string
          example: Channel 4
          description: 'Название канала 4'
        reg_id:
          type: integer
          example: 346000080
          description: Id терминала
        overflow_type:
          type: string
          enum: [ loop, deny ]
          example: loop
          description: |-
            Способ записи в хранилище (loop - циклическая / deny - запрет перезаписи)
        size_mb:
          type: integer
          example: 1024
          description: 'Размер хранилища'
        video_reg_id:
          type: string
          example: 000080
          description: 'ID видеорегистратора'

    Profile:
      required:
        - id
        - deleted_at
        - video_length_before
        - video_length_after
        - ch1_is_active
        - ch1_name
        - ch2_is_active
        - ch2_name
        - ch3_is_active
        - ch3_name
        - ch4_is_active
        - ch4_name
        - reg_id
        - overflow_type
        - size_mb"
        - author_id
        - created_at
        - updated_at
      type: object
      properties:
        id:
          type: integer
          description: 'Id Профиля'
        video_length_before:
          type: integer
          example: 30
          description: |-
            Длина видео до метки события в секундах
        video_length_after:
          type: integer
          example: 30
          description: |-
            Длина видео после метки события в секундах
        ch1_is_active:
          type: integer
          enum: [ 0, 1 ]
          description: |-
            Активность канала 1 (0 - выключен/ 1 - включен)
          example: 0
        ch1_name:
          type: string
          example: Channel 1
          description: 'Название канала 1'
        ch2_is_active:
          type: integer
          enum: [ 0, 1 ]
          example: 0
          description: |-
            Активность канала 2 (0 - выключен/ 1 - включен)
        ch2_name:
          type: string
          example: Channel 2
          description: 'Название канала 2'
        ch3_is_active:
          type: integer
          enum: [ 0, 1 ]
          example: 0
          description: |-
            Активность канала 3 (0 - выключен/ 1 - включен)
        ch3_name:
          type: string
          example: Channel 3
          description: 'CНазвание канала 3'
        ch4_is_active:
          type: integer
          enum: [ 0, 1 ]
          example: 0
          description: |-
            Активность канала 4 (0 - выключен/ 1 - включен)
        ch4_name:
          type: string
          example: Channel 4
          description: 'Название канала 4'
        reg_id:
          type: integer
          example: 346000080
          description: 'Id терминала'
        overflow_type:
          type: string
          enum: [ loop, deny ]
          example: loop
          description: |-
            Способ записи в хранилище (loop - циклическая / deny - запрет перезаписи)
        size_mb:
          type: integer
          example: 1024
          description: 'Размер хранилища'
        author_id:
          type: integer
          example: 1540212
          description: |-
            Id пользователя в FES, создавшего профиль
        created_at:
          type: integer
          example: 1516971910000
          description: |-
            время создания профиля (unix timestamp в миллисекундах)
        updated_at:
          type: integer
          example: 1530545322000
          description: |-
            время обновления профиля (unix timestamp в миллисекундах)

    RulesListRequest:
      type: object
      properties:
        page_size:
          type: integer
          format: int32
          example: 20
        sortby:
          type: string
          example: channel_ids
        order:
          type: string
          example: DESC
        page:
          type: integer
          format: int32
          example: 1
        search_by_name_string:
          type: string
          example: а
          description: 'Строка поиска'
        show_last_page:
          type: integer
          format: int32
          example: 0
        status:
          type: string
          enum: [ active, disabled ]
          example: active
          description: |-
            Активность правила (включено / выключено)
        reg_ids:
          type: array
          items:
            type: integer
            example: [ 346000000, 346999999 ]
          description: 'Массив reg_id'
        created_from:
          type: string
          example: 1531145788000
          description: |-
            Время создания правила "от" (unix timestamp в миллисекундах)
        created_to:
          type: string
          example: 1531145788000
          description: |-
            Время создания правила "до" (unix timestamp в миллисекундах)
        updated_from:
          type: string
          example: 1531145788000
          description: |-
            Время обновления правила "от" (unix timestamp в миллисекундах)
        updated_to:
          type: string
          example: 1531145788000
          description: |-
            Время обновления правила "до" (unix timestamp в миллисекундах)

    RuleListResponse:
      required:
        - current_page
        - data
        - from
        - last_page
        - next_page_url
        - path
        - per_page
        - prev_page_url
        - to
        - total
      type: object
      properties:
        current_page:
          type: integer
          format: int32
          example: 1
        data:
          type: array
          items:
            $ref: '#/components/schemas/Rule'
          description: ''
        from:
          type: integer
          format: int32
          example: 1
        last_page:
          type: integer
          format: int32
          example: 1
        next_page_url:
          type: string
          nullable: true
        path:
          type: string
          example: http://online.omnicomm.ru/api/rules/list
        per_page:
          type: string
          example: 100
        prev_page_url:
          type: string
          nullable: true
        to:
          type: integer
          format: int32
          example: 1
        total:
          type: integer
          format: int32
          example: 1

    RuleAdd:
      required:
        - rule_name
        - reg_ids
        - channel_ids
        - event_type_id
        - video_length_before
        - video_length_after
        - ttl
      type: object
      properties:
        rule_name:
          type: string
          example: Правило первое
          description: 'Название правила'
        reg_ids:
          type: array
          items:
            type: integer
          example: [ 346000000, 346999999 ]
        channel_ids:
          description: 'Каналы'
          type: array
          items:
            type: integer
            enum: [ 1, 2, 3, 4 ]
          example: [ 3, 4 ]
        event_type_id:
          description: 'Id события в авточеке'
          type: integer
          format: int32
          example: 88
        video_length_before:
          description: |-
            Длительность видеофайла до метки времени события
          type: integer
          format: int32
          example: 90
        video_length_after:
          description: |-
            Длительность видеофайла после метки времени события
          type: integer
          format: int32
          example: 180
        ttl:
          description: |-
            Максимальное время ожидания видео в секундах (0 - бесконечно)
          type: integer
          format: int32
          example: 0
        geozone_ids:
          description: |-
            Только для событий входа/выхода геозон: Идентификаторы геозон.  Правило применяется, только в случае входа/выхода ТС в/из указанных геозон
          type: array
          items:
            type: integer
          example: [ 9891, 9892 ]

    Rule:
      required:
        - rule_name
        - reg_ids
        - channel_ids
        - event_type_id
        - video_length_before
        - video_length_after
        - ttl
        - status
        - owner_id
        - created_at
        - updated_at
        - id
      type: object
      properties:
        id:
          type: integer
          description: Id правила
          example: 55
        deleted_at:
          type: string
          nullable: true
          description: |-
            время удаления правила
        rule_name:
          type: string
          example: Правило первое
          description: Название правила
        reg_ids:
          type: array
          items:
            type: integer
          example: [ 346000000, 346999999 ]
        channel_ids:
          description: Каналы
          type: array
          items:
            type: integer
            enum: [ 1, 2, 3, 4 ]
          example: [ 3, 4 ]
        event_type_id:
          description: Id события в авточеке
          type: integer
          format: int32
          example: 88
        video_length_before:
          description: |-
            Длительность видеофайла до метки времени события (0 - настройки из профиля)
          type: integer
          format: int32
          example: 90
        video_length_after:
          description: |-
            Длительность видеофайла после метки времени события (0 - настройки из профиля)
          type: integer
          format: int32
          example: 180
        ttl:
          description: |-
            Максимальное время ожидания видео в секундах (0 - бесконечно)
          type: integer
          format: int32
          example: 0
        status:
          type: string
          enum: [ 'active', 'disabled' ]
          example: active
          description: |-
            Активность правила (включено / выключено)
        owner_id:
          type: integer
          example: 1540212
          description: Автор правила (user_id в FES)
        created_at:
          type: integer
          description: |-
            время создания правила (unix timestamp в миллисекундах)
        updated_at:
          type: integer
          description: |-
            время обновления правила (unix timestamp в миллисекундах)
        geozone_ids:
          description: |-
            Только для событий входа/выхода геозон: Идентификаторы геозон.  Правило применяется, только в случае входа/выхода ТС в/из указанных геозон
          type: array
          items:
            type: integer
          example: [ 9891, 9892 ]

    #geozone
    geozone:
      type: object
      properties:
        name:
          description: 'название геозоны'
          type: string
        id:
          description: 'идентификатор геозоны'
          type: integer
        rootGroupId:
          description: |-
            корневая группа геозоны
          type: integer
        geozoneTypeId:
          description: |-
            идентификатор типа геозоны
          type: integer
        color:
          description: |-
            Цвет геозоны
          type: string
        transparency:
          description: |-
            прозрачность заливки цветом
          type: integer
        geozoneTypeName:
          description: 'тип геозоны'
          type: string
        radius:
          description: |-
            радиус геозоны с типом "круг"
          type: number
          format: double
        geometryTypeId:
          description: |-
            идентификатор формы геозоны. Необходимо учесть, что для геозоны с типом "круг" используется полигон
          type: integer
        geometryTypeName:
          description: 'форма геозоны'
          type: string
        lineWidth:
          description: |-
            ширина геозоны с типом "линия"
          type: integer
        status:
          description: |-
            идентификатор статуса, если статус "активна", то по геозоне обрабатываются события, которые связаны с геозоной, например, вход/выход
          type: integer
        statusName:
          description: 'статус'
          type: string
        uuid:
          description: 'идентификатор uuid геозоны'
          type: string
          format: uuid
        latitude:
          description: |-
            широта географической точки центра геозоны с типом "круг"
          type: number
          format: double
        longitude:
          description: |-
            долгота географической токи центра геозоны с типом "круг"
          type: number
          format: double
        countPoints:
          description: |-
            количество точек в геозоне
          type: integer
        points:
          description: 'точки геозоны'
          type: array
          items:
            type: object
            properties:
              pointId:
                description: 'идентификатор точки'
                type: integer
              latitude:
                description: 'широта'
                type: number
                format: double
              longitude:
                description: 'долгота'
                type: number
                format: double

    geozoneParameters:
      description: ''
      type: object
      required:
        - name
        - geozoneType
        - geometry
      properties:
        name:
          description: 'название геозоны'
          type: string
        color:
          description: |-
            цвет геозоны hexadecimal color
          type: string
          example: "#005824"
        transparency:
          description: 'уровень прозрачности в %'
          type: integer
          minimum: 0
          maximum: 100
          default: 50
        allowedSpeed:
          description: |-
            максимальная разрешенная скорость в геозоне
          type: number
          format: double
        useAsAddress:
          description: |-
            признак "использовать название геозоны вместо адреса"
          type: boolean
          default: false
        enableSpeedMonitoring:
          description: |-
            признак "обрабатывать превышение скорости в геозоне"
          type: boolean
          default: false
        status:
          description: |-
            статус: 0 не активна, 1 активна. Если статус активна, то по геозоне обрабатываются события, которые связаны с геозоной, например, вход/выход
          type: integer
          enum: [ 0, 1 ]
          default: 1
        geozoneType:
          description: |-
            тип геозоны: 1 геозона, 2 контрольная точка, 3 не используется
          type: integer
          enum: [ 1, 2, 3 ]
          default: 1
        radius:
          description: |-
            радиус геозоны с типом "круг"
          type: number
          format: double
          minimum: 0
        lineWidth:
          description: |-
            ширина геозоны с типом "линия"
          type: integer
          minimum: 1
        latitude:
          description: |-
            широта географической токи центра геозоны с типом "круг"
          type: number
          format: double
          minimum: -90
          maximum: 90
        longitude:
          description: |-
            долгота географической токи центра геозоны с типом "круг"
          type: number
          format: double
          minimum: -180
          maximum: 180
        geometry:
          description: 'геозона'
          type: object
          required:
            - geometryType
            - points
          properties:
            geometryType:
              description: |-
                тип геометрии геозоны: 1 многоугольник, 2 круг, 3 линия
              type: integer
              enum: [ 1, 2, 3 ]
              default: 2
            points:
              description: |-
                вершины многоугольника геозоны должны указываться в той последовательности, в которой они должны быть соединены, начиная от условно первой
              type: array
              items:
                type: object
                required:
                  - latitude
                  - longitude
                properties:
                  latitude:
                    description: 'широта'
                    type: number
                    format: double
                    minimum: -90
                    maximum: 90
                  longitude:
                    description: 'долгота'
                    type: number
                    format: double
                    minimum: -180
                    maximum: 180

    geozones:
      type: object
      properties:
        total:
          description: |-
            общее количество геозон
          type: integer
        page:
          description: 'текущая страница'
          type: integer
        pageSize:
          description: |-
            максимальное количество геозон на странице
          type: integer
        rows:
          description: 'перечень геозон'
          type: array
          items:
            $ref: '#/components/schemas/geozone'

    geozonesGroups:
      type: object
      properties:
        geozoneIds:
          description: |-
            идентификаторы геозон, которые не входят в группы
          type: array
          items:
            description: 'идентификатор геозоны'
            type: integer
        groups:
          description: 'перечень групп геозон'
          type: array
          items:
            description: 'группа геозон'
            type: object
            properties:
              id:
                description: 'идентификатор группы'
                type: integer
              parentGroupId:
                description: 'идентификатор родительской группы'
                type: integer
              name:
                description: 'название группы'
                type: string
              geozoneIds:
                description: |-
                  идентификаторы геозон, которые входят в группу
                type: array
                items:
                  description: 'идентификатор геозоны'
                  type: integer

    # User parameters --- Параметры пользователя
    user:
      description: |-
        Входные параметры для создания пользователя Omnicomm Online
      type: object
      required:
        - login
        - password
        - name
        - client_name
      properties:
        login:
          description: |-
            Логин добавляемого пользователя ОО  \n
            Ограничение: Регулярное выражение - [a-zA-Z0-9@_=\\(\\)\\-\\+]{3,20}
          type: string
        client_name:
          description: "Название клиента"
          type: string
        name:
          description: "Наименование пользователя"
          type: string
        permissions:
          description: "Права пользователя"
          type: array
          items:
            description: |-
              autocheck.access - Право доступа в интерфейс Omnicomm Online  
              ase.reports.map2 - Право на отчёты, использующие карты  
              ase.reports.location - Отчёт Местоположение  
              ase.reports.speed - Отчёт Скорость  
              ase.reportvisibility - Разрешить пользователю управлять видимостью отчетов  
              ase.userreportscontrol - Добавление, изменение и удаление пользовательских отчетов  
              ase.groups.vehicle.full - Полный доступ к транспортным средствам корневой группы  
              ase.groups.driver.full - Полный доступ к водителям корневой группы  
              ase.groups.geozone.full - Полный доступ к геозонам корневой группы  
              ase.groups.route.full - Полный доступ к маршрутам корневой группы  
              Если при создании пользователя указывается пустой массив permissions, пользователю устанавливаются права по умолчанию
        vehiclegroup_id:
          description: |-
            Идентификатор (UUID) корневой группы транспортных средств.  \nВсе пользователи, имеющие доступ к указанной группе, будут иметь доступ к ТС этой группы
          type: string
          format: uuid
        geozonegroup_id:
          description: |-
            Идентификатор (UUID) корневой группы геозон  \nВсе пользователи, имеющие доступ к указанной группе, будут иметь доступ к геозонам этой группы
          type: string
          format: uuid
        drivergroup_id:
          description: |-
            Идентификатор (UUID) корневой группы водителей  \nВсе пользователи, имеющие доступ к указанной группе, будут иметь доступ к водителям этой группы
          type: string
          format: uuid
        routegroup_id:
          description: |-
            Идентификатор (UUID) корневой группы маршрутов  \nВсе пользователи, имеющие доступ к указанной группе, будут иметь доступ к маршрутам этой группы
          type: string
          format: uuid
        is_client:
          description: |-
            "Признак \"клиент\"
          type: boolean

    users:
      type: object
      properties:
        rows:
          description: 'перечень пользователей'
          type: array
          items:
            allOf:
              - $ref: '#/components/schemas/user'
              - type: object
                properties:
                  uuid:
                    description: |-
                      Идентификатор UUID пользователя Omnicomm Online
                    type: string
                    format: uuid
        page:
          description: 'текущая страница'
          type: integer
        pageSize:
          description: |-
            максимальное количество на странице'
          type: integer
        total:
          description: 'общее количество'
          type: integer

    blockingStatus:
      type: object
      required:
        - login
        - blocked
        - reports_blocked
        - blocking_comment
        - blocking_intervals
      properties:
        reports_blocked:
          description: |-
            Статус блокировки отчётов
          type: boolean
        blocked:
          description: 'Статус полной блокировки'
          type: boolean
        login:
          description: 'Логин пользователя'
          type: string
        blocking_comment:
          description: |-
            Комментарий к устанавливаемому статусу блокировки
          type: string
        blocking_intervals:
          description: |-
            Интервалы действия блокировки
          type: array
          items:
            type: object
            properties:
              begin:
                description: |-
                  Дата начала, формат YYYY-MM-DD
                type: string
                format: date-time
                example: '2019-10-31'
              end:
                description: |-
                  Дата окончания, формат YYYY-MM-DD'
                type: string
                format: date-time
                example: '2019-10-31'
              comment:
                description: |-
                  Комментарий к интервалу блокировки
                type: string

    xmlProfile:
      properties:
        xmlProfile:
          description: |-
            Содержимое XML профиля от конфигуратора Omnicomm Online  \n
             Передаётся в виде валидной JSON-строки (без переносов строк, зарезервированные JSON-символы экранированы)
          type: string

    jsonProfile:
      properties:
        jsonProfile:
          description: |-
            Параметры профиля контролируемого объекта в JSON формате по схеме в соответствии с типом профиля
          type: object

    responseStatus:
      type: object
      properties:
        status:
          description: 'Статус ответа'
          type: object
          properties:
            code:
              description: 'Код статуса'
              type: integer
            message:
              description: 'Сообщение статуса'
              type: string

    track:
      description: 'данные GPS по ТС'
      type: array
      items:
        type: object
        properties:
          date:
            description: |-
              дата и время данных (UTC unix timestamp)
            type: integer
          direction:
            description: |-
              направление (градусы 0-359, 0 - север, 90 - восток, 180 - юг, 270 - запад)
            type: integer
          latitude:
            description: 'широта'
            type: number
            format: double
          longitude:
            description: 'долгота'
            type: number
            format: double
          speed:
            description: 'скорость (км/ч)'
            type: number
            format: double
          satellitesCount:
            description: 'количество спутников'
            type: integer

    Terminals:
      description: Описание элемента дерева ТС
      type: array
      items:
        type: object
        properties:
          uuid:
            description: UUID ТС
            type: string
            format: uuid
          name:
            description: Наименование ТС
            type: string
          terminal_id:
            description: Идентификатор терминала
            type: number
          terminal_type:
            description: Тип терминала
            type: string
            enum:
              - FAS
              - FTC

    TerminalsExtended:
      description: Описание элемента дерева ТС
      type: array
      items:
        type: object
        properties:
          uuid:
            description: UUID ТС
            type: string
            format: uuid
          name:
            description: Наименование ТС
            type: string
          terminal_id:
            description: Идентификатор терминала
            type: number
          terminal_type:
            description: Тип терминала
            type: string
            enum:
              - FAS
              - FTC
          receive_data:
            description: Статус передачи данных 0 - Передача данных выключена, 1 - Передача данных включена
            type: integer

    TreeGroup-V1:
      description: Дерево групп ТС
      type: object
      properties:
        name:
          description: Наименование группы
          type: string
        id:
          description: UUID группы
          type: string
          format: uuid
        objects:
          $ref: "#/components/schemas/Terminals"
        children:
          description: Вложенные группы
          type: array
          items:
            $ref: "#/components/schemas/TreeGroup-V1"

    TreeGroup-V2:
      description: Дерево групп ТС
      type: object
      properties:
        name:
          description: Наименование группы
          type: string
        id:
          description: ID группы
          type: integer
        parentGroupId:
          description: ID родительской группы
          type: integer
        objects:
          $ref: "#/components/schemas/Terminals"
        children:
          description: Вложенные группы
          type: array
          items:
            $ref: "#/components/schemas/TreeGroup-V2"

    Geozones:
      description: Описание элемента дерева геозон
      type: array
      items:
        type: object
        properties:
          id:
            description: UUID геозоны
            type: string
            format: uuid
          name:
            description: Наименование геозоны
            type: string
          autocheck_id:
            description: Идентификатор геозоны на сервере
            type: number
          server_name:
            description: Наименование сервера
            type: string
          updated_at:
            description: Дата последнего обновления
            type: string
            format: date-time
          created_at:
            description: Дата создания
            type: string
            format: date-time
          usermap_uuid:
            description: UUID файла геозоны типа "Карта"
            type: string

    GeozoneTreeGroup:
      description: Дерево групп ТС
      type: object
      properties:
        id:
          description: UUID группы
          type: string
          format: uuid
        name:
          description: Наименование группы
          type: string
        autocheck_id:
          description: Идентификатор группы
          type: number
        children:
          description: Вложенные группы
          type: array
          items:
            $ref: "#/components/schemas/GeozoneTreeGroup"
        objects:
          $ref: "#/components/schemas/Geozones"

    NotificationsNew:
      type: object
      properties:
        all:
          type: number
        critical:
          type: boolean
          description: |-
            есть ли критичные
        unread:
          type: number
        service:
          type: number
        critical_unread:
          type: boolean
          description: |-
            есть ли критичные непрочитанные

    NotificationsAll:
      type: object
      properties:
        critical:
          type: number
          description: Количество важных уведомлений
        unread:
          type: number
          description: Количество непрочитанных уведомлений
        service:
          type: number
          description: Количество служебных уведомлений
        notifications:
          description: Уведомления
          type: array
          items:
            type: object
            properties:
              readStatus:
                type: boolean
                description: Уведомление о прочтении
              roottype:
                type: string
                description: Тип терминала
              notificationTypeId:
                type: integer
                enum: [ 1, 2, 3 ]
                description: Тип уведомления (1-Обычное, 2-Важное, 3-Служебное)
              vehicleName:
                type: string
              messageBody:
                type: string
                description: Текст уведомления в формате html
              timezone:
                type: string
                description: Часовой пояс отправителя (см. https://timezonedb.com/)
              latitude:
                type: number
                format: double
              delayed:
                type: boolean
              notificationType:
                type: string
                enum: [ NORMAL, IMPORTANT, SERVICE ]
                description: Текст уведомления
              expiryDatetime:
                type: integer
                format: int64
                description: |-
                  Дата истечения срока уведомления (unix timestamp ms). По истечении срока уведомление будет удалено
              userID:
                type: integer
              emailShortList:
                type: array
                items:
                  type: string
                description: SMS-шлюз
              createDatetime:
                type: integer
                format: int64
                description: Дата создания уведомления
              eventTypeID:
                type: string
              emailsList:
                type: string
              timezoneOffset:
                type: integer
                description: Разница между местным временем и UTC в секундах
              details:
                type: string
                description: Данные текста уведомления
              notificationID:
                type: integer
              vehicleID:
                type: integer
              ruleID:
                type: integer
                description: Уведомление генерируется в соответствии с этим правилом
              notificationName:
                type: string
              messageJson:
                type: object
                description: Структурированное сообщение об уведомлении
                properties:
                  vehicleName:
                    type: string
                  address:
                    type: string
                    description: адрес события
                  eventParams:
                    type: string
                    description: текстовые параметры события
                  parseAddress:
                    $ref: "#/components/schemas/NotificationAddr"
                  ruleName:
                    type: string
                  reductionAddress:
                    $ref: "#/components/schemas/NotificationAddr"
                  notificationEventName:
                    type: string
                  notificationDate:
                    type: string
                    description: 'ДД.ММ.ГГГГ ЧЧ:ММ:СС (UTC±ЧЧ:MM)'
                  eventDate:
                    type: string
                    description: 'ДД.ММ.ГГГГ ЧЧ:ММ:СС (UTC±ЧЧ:MM)'
              eventDate:
                type: integer
                format: int64
              longitude:
                type: number
                format: double

    NotificationAddr:
      type: object
      description: Адрес уведомления
      properties:
        country:
          type: string
          description: Название страны
        street:
          type: string
        postcode:
          type: integer
        unParseableLocation:
          type: object
          properties:
            country:
              type: string
              description: Название страны
            country_code:
              type: string
              description: Код страны alpha-2
            administrative:
              type: string
              description: Федеральный округ
            postcode:
              type: integer
            suburb:
              type: string
              description: Регион
            state:
              type: string
              description: Тема
        region:
          type: string
          description: Федеральный округ + район
        house:
          type: string

    Error:
      required:
        - error
      properties:
        error:
          type: string

    TrackEvent:
      description: |
        Событие трека  
        <details>
        <summary>Описание типов событий трека</summary>
        <table border="1">
        <thead>
            <tr>
                <th width="5%" align="center">Тип [0]</th>
                <th width="35%">Наименование</th>
                <th width="30%">Параметр 1  [1]</th>
                <th width="30%">Параметр 2  [2]</th>
            </tr>
        </thead>
        <tbody padding="15">
            <tr>
                <td>1</td>
                <td>Начало заправки</td>
                <td>-</td>
                <td>объём топлива (дл)</td>
            </tr>
            <tr>
                <td>2</td>
                <td>Окончание заправки</td>
                <td>-</td>
                <td>объём топлива (дл)</td>
            </tr>
            <tr>
                <td>3</td>
                <td>Начало слива</td>
                <td>-</td>
                <td>объём топлива (дл)</td>
            </tr>
            <tr>
                <td>4</td>
                <td>Окончание слива</td>
                <td>-</td>
                <td>объём топлива (дл)</td>
            </tr>
            <tr>
                <td>5</td>
                <td>Зажигание включено</td>
                <td>-</td>
                <td>время, прошедшее с момента выключения зажигания (мин)</td>
            </tr>
            <tr>
                <td>6</td>
                <td>Зажигание выключено</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>7</td>
                <td>Переход на основной источник питания</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>8</td>
                <td>Переход на резервный источник питания</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>9</td>
                <td>Регистрация  водителя</td>
                <td>-</td>
                <td>идентификатор водителя</td>
            </tr>
            <tr>
                <td>12</td>
                <td>Моментальное превышение порога скорости</td>
                <td>-</td>
                <td>скорость (км/ч) * 10</td>
            </tr>
            <tr>
                <td>13</td>
                <td>Окончание стоянки (с учетом зажигания)</td>
                <td>-</td>
                <td>длительность (с)</td>
            </tr>
            <tr>
                <td>14</td>
                <td>Начало превышения порога скорости</td>
                <td>-</td>
                <td>скорость (км/ч) * 10</td>
            </tr>
            <tr>
                <td>15</td>
                <td>Начало выдачи топлива</td>
                <td>объём (сл)</td>
                <td>-</td>
            </tr>
            <tr>
                <td>16</td>
                <td>Окончание выдачи топлива</td>
                <td>объём (сл)</td>
                <td>-</td>
            </tr>
            <tr>
                <td>17</td>
                <td>Начало заправки во время выдачи топлива</td>
                <td>объём (сл)</td>
                <td>-</td>
            </tr>
            <tr>
                <td>18</td>
                <td>Окончание заправки во время выдачи топлива</td>
                <td>объём (сл)</td>
                <td>-</td>
            </tr>
            <tr>
                <td>19</td>
                <td>Начало слива во время выдачи топлива</td>
                <td>объём (сл)</td>
                <td>-</td>
            </tr>
            <tr>
                <td>20</td>
                <td>Окончание слива во время выдачи топлива</td>
                <td>объём (сл)</td>
                <td>-</td>
            </tr>
            <tr>
                <td>22</td>
                <td>Дополнительное оборудование 1 включено</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>23</td>
                <td>Дополнительно оборудование 1 выключено</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>24</td>
                <td>Начало превышения дополнительным оборудованием 1 порога предельного допустимого значения</td>
                <td>-</td>
                <td>значение на УВ</td>
            </tr>
            <tr>
                <td>25</td>
                <td>Прекращение превышения дополнительным оборудованием 1 порога предельного допустимого значения</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>26</td>
                <td>Начало сбоя ДУТ LLS</td>
                <td>-</td>
                <td>идентификатор топливной ёмкости</td>
            </tr>
            <tr>
                <td>27</td>
                <td>Окончание сбоя ДУТ LLS</td>
                <td>-</td>
                <td>идентификатор топливной ёмкости</td>
            </tr>
            <tr>
                <td>28</td>
                <td>Начало превышения предельной нагрузки на двигатель</td>
                <td>-</td>
                <td>обороты (об/мин)</td>
            </tr>
            <tr>
                <td>29</td>
                <td>Прекращение превышения предельной нагрузки на двигатель</td>
                <td>длительность (с)</td>
                <td>обороты (об/мин)</td>
            </tr>
            <tr>
                <td>30</td>
                <td>Прекращение превышения порога скорости</td>
                <td>длительность (с)</td>
                <td>средняя скорость (км/ч) * 10</td>
            </tr>
            <tr>
                <td>31</td>
                <td>Нажатие тревожной кнопки</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>32</td>
                <td>Моментальное превышение дополнительным оборудованием 1 предельной нагрузки</td>
                <td>-</td>
                <td>среднее значение на УВ</td>
            </tr>
            <tr>
                <td>33</td>
                <td>Включение питания</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>34</td>
                <td>Моментальное превышение предельной нагрузки на двигатель</td>
                <td>-</td>
                <td>обороты (об/мин)</td>
            </tr>
            <tr>
                <td>38</td>
                <td>Выключение питания</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>42</td>
                <td>Начало остановки (с учетом и без учета зажигания)</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>43</td>
                <td>Окончание остановки (с учетом и без учета зажигания)</td>
                <td>-</td>
                <td>длительность (мин)</td>
            </tr>
            <tr>
                <td>44</td>
                <td>Начало превышения предельного ускорения</td>
                <td>длительность (с)</td>
                <td>максимальное ускорение (м/с2) * 1000</td>
            </tr>
            <tr>
                <td>45</td>
                <td>Прекращение превышения предельного ускорения</td>
                <td>длительность (с)</td>
                <td>среднее ускорение (м/с2) * 1000</td>
            </tr>
            <tr>
                <td>48</td>
                <td>Моментальное превышение предельного ускорения</td>
                <td>длительность (с)</td>
                <td>максимальное ускорение (м/с2) * 1000</td>
            </tr>
            <tr>
                <td>52</td>
                <td>Вскрытие устройства</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>54</td>
                <td>Приложен iButton</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>95</td>
                <td>Начало участка отсутствия данных</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>96</td>
                <td>Окончание участка отсутствия данных</td>
                <td>-</td>
                <td>длительность (с)</td>
            </tr>
            <tr>
                <td>97</td>
                <td>Начало стоянки без учета состояния зажигания</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>98</td>
                <td>Окончание стоянки без учета состояния зажигания</td>
                <td>-</td>
                <td>длительность (с)</td>
            </tr>
            <tr>
                <td>99</td>
                <td>Изменение места стоянки</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>100</td>
                <td>Начало стоянки (с учётом зажигания)</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>122</td>
                <td>Дополнительное оборудование 2 включено</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>123</td>
                <td>Дополнительно оборудование 2 выключено</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>124</td>
                <td>Начало превышения дополнительным оборудованием 2 порога предельного допустимого значения</td>
                <td>длительность (с)</td>
                <td>среднее значение на УВ</td>
            </tr>
            <tr>
                <td>125</td>
                <td>Прекращение превышения дополнительным оборудованием 2 порога предельного допустимого значения</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>132</td>
                <td>Моментальное превышение дополнительным оборудованием 2 предельной нагрузки</td>
                <td>-</td>
                <td>значение на УВ</td>
            </tr>
            <tr>
                <td>222</td>
                <td>Дополнительное оборудование 3 включено</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>223</td>
                <td>Дополнительно оборудование 3 выключено</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>224</td>
                <td>Начало превышения дополнительным оборудованием 3 порога предельного допустимого значения</td>
                <td>длительность (с)</td>
                <td>среднее значение на УВ</td>
            </tr>
            <tr>
                <td>225</td>
                <td>Прекращение превышения дополнительным оборудованием 3 порога предельного допустимого значения</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>232</td>
                <td>Моментальное превышение дополнительным оборудованием 3 предельной нагрузки</td>
                <td>-</td>
                <td>значение на УВ</td>
            </tr>
            <tr>
                <td>322</td>
                <td>Дополнительное оборудование 4 включено</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>323</td>
                <td>Дополнительно оборудование 4 выключено</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>324</td>
                <td>Начало превышения дополнительным оборудованием 4 порога предельного допустимого значения</td>
                <td>длительность (с)</td>
                <td>среднее значение на УВ</td>
            </tr>
            <tr>
                <td>325</td>
                <td>Прекращение превышения дополнительным оборудованием 4 порога предельного допустимого значения</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>332</td>
                <td>Моментальное превышение дополнительным оборудованием 4 предельной нагрузки</td>
                <td>-</td>
                <td>значение на УВ</td>
            </tr>
        </tbody>
        </details>
      type: array
      items:
        type: number

    Event:
      description: |
        Событие  
        <details>
        <summary>Описание типов событий</summary>
        <table border="1">
        <thead>
            <tr>
                <th width="5%" align="center">Тип</th>
                <th width="45%">Наименование</th>
                <th width="45%">Параметры</th>
                <th width="5%">Измер.</th>
            </tr>
        </thead>
        <tbody padding="15">
            <tr>
                <td rowspan="2">1&nbsp;</td>
                <td rowspan="2">Начало заправки&nbsp;</td>
                <td>1. Идентификатор топливной ёмкости</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Объем залитого топлива</td>
                <td>л</td>
            </tr>
            <tr>
                <td rowspan="2">2&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Окончание заправки<br>&nbsp;</td>
                <td>1. Идентификатор топливной ёмкости</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Объем залитого топлива</td>
                <td>л</td>
            </tr>
            <tr>
                <td rowspan="2">3&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Начало слива<br>&nbsp;</td>
                <td>1. Идентификатор топливной ёмкости</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Объем слитого топлива</td>
                <td>л</td>
            </tr>
            <tr>
                <td rowspan="2">4&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Окончание слива<br>&nbsp;</td>
                <td>1. Идентификатор топливной ёмкости</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Объем слитого топлива</td>
                <td>л</td>
            </tr>
            <tr>
                <td>5</td>
                <td>Зажигание включено</td>
                <td>1. Время, прошедшее с момента выключения зажигания</td>
                <td>с</td>
            </tr>
            <tr>
                <td>6</td>
                <td>Зажигание выключено</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>7</td>
                <td>Переход на основной источник питания</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>8</td>
                <td>Переход на резервный источник питания</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">9<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Регистрация&nbsp; водителя<br>&nbsp;</td>
                <td>1. ФИО водителя, если водитель определён</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. ID i-button</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">12<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Моментальное превышение порога скорости<br>&nbsp;<br>&nbsp;</td>
                <td>1. Порог</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>2. Скорость</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>3. Длительность</td>
                <td>с</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">13<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Окончание стоянки (с учетом зажигания)<br>&nbsp;</td>
                <td>1. Порог</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Длительность</td>
                <td>с</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">14<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Начало превышения порога скорости<br>&nbsp;<br>&nbsp;</td>
                <td>1. Порог</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>2. Средняя скорость</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>3. Длительность</td>
                <td>с</td>
            </tr>
            <tr>
                <td>15</td>
                <td>Начало выдачи топлива</td>
                <td>1. Объем</td>
                <td>л</td>
            </tr>
            <tr>
                <td>16</td>
                <td>Окончание выдачи топлива</td>
                <td>1. Объем</td>
                <td>л</td>
            </tr>
            <tr>
                <td>17</td>
                <td>Начало заправки во время выдачи топлива</td>
                <td>1. Объем</td>
                <td>л</td>
            </tr>
            <tr>
                <td>18</td>
                <td>Окончание заправки во время выдачи топлива</td>
                <td>1. Объем</td>
                <td>л</td>
            </tr>
            <tr>
                <td>19</td>
                <td>Начало слива во время выдачи топлива</td>
                <td>1. Объем</td>
                <td>л</td>
            </tr>
            <tr>
                <td>20</td>
                <td>Окончание слива во время выдачи топлива</td>
                <td>1. Объем</td>
                <td>л</td>
            </tr>
            <tr>
                <td>21</td>
                <td>Служебная авторизация</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>22</td>
                <td>Дополнительное оборудование 1 включено</td>
                <td>1. Наименование доп. оборудования</td>
                <td>-</td>
            </tr>
            <tr>
                <td>23</td>
                <td>Дополнительно оборудование 1 выключено</td>
                <td>1. Наименование доп. оборудования</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">24<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Начало превышения дополнительным оборудованием 1 порога предельного допустимого значения<br>&nbsp;<br>&nbsp;</td>
                <td>1. Название УВ</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Среднее значение</td>
                <td>-</td>
            </tr>
            <tr>
                <td>3. Длительность</td>
                <td>c</td>
            </tr>
            <tr>
                <td>25</td>
                <td>Прекращение превышения дополнительным оборудованием 1 порога предельного допустимого значения</td>
                <td>1. Название УВ</td>
                <td>-</td>
            </tr>
            <tr>
                <td>26</td>
                <td>Начало сбоя ДУТ LLS</td>
                <td>1. Идентификатор топливной ёмкости</td>
                <td>-</td>
            </tr>
            <tr>
                <td>27</td>
                <td>Окончание сбоя ДУТ LLS</td>
                <td>1. Идентификатор топливной ёмкости</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">28<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Начало превышения предельной нагрузки на двигатель<br>&nbsp;</td>
                <td>1. Среднее значение оборотов</td>
                <td>об/мин</td>
            </tr>
            <tr>
                <td>2. Длительность</td>
                <td>с</td>
            </tr>
            <tr>
                <td>31</td>
                <td>Нажатие тревожной кнопки</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">32<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Моментальное превышение дополнительным оборудованием 1 предельной нагрузки<br>&nbsp;</td>
                <td>1. Наименование доп. оборудования</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Значение</td>
                <td>-</td>
            </tr>
            <tr>
                <td>33</td>
                <td>Включение питания</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>34</td>
                <td>Моментальное превышение предельной нагрузки на двигатель</td>
                <td>1. Обороты</td>
                <td>об/мин</td>
            </tr>
            <tr>
                <td>35</td>
                <td>Вход в геозону</td>
                <td>1. Название геозоны</td>
                <td>-</td>
            </tr>
            <tr>
                <td>36</td>
                <td>Выход из геозоны</td>
                <td>1. Название геозоны</td>
                <td>-</td>
            </tr>
            <tr>
                <td>37</td>
                <td>Изображение с видеокамеры</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>38</td>
                <td>Выключение питания</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>39</td>
                <td>Нарушение порядка прохождения КТ маршрута</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>40</td>
                <td>Нет входа в геозону маршрута</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>41</td>
                <td>Выход за пределы геозоны маршрута</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>43</td>
                <td>Окончание остановки (с учетом и без учета зажигания)</td>
                <td>1. Порог</td>
                <td>с</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">48<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Моментальное превышение предельного ускорения<br>&nbsp;</td>
                <td>1. порог</td>
                <td>м/с2</td>
            </tr>
            <tr>
                <td>2. ускорение</td>
                <td>м/с2</td>
            </tr>
            <tr>
                <td>52</td>
                <td>Вскрытие устройства</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>53</td>
                <td>Завершение регистрации водителя</td>
                <td>1. ФИО водителя, если водитель определён</td>
                <td>-</td>
            </tr>
            <tr>
                <td>54</td>
                <td>Приложен iButton</td>
                <td>1. ID i-button</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">55<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Регистрация уволенного водителя<br>&nbsp;</td>
                <td>1. ФИО водителя, если водитель определён</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. ID i-button</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">72<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Рейс начат<br>&nbsp;</td>
                <td>1. Название маршрута</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Время задержки</td>
                <td>с</td>
            </tr>
            <tr>
                <td rowspan="4" style="width: 5.4697%;">73<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="4" style="width: 43.4007%;">Посещена КТ<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td>1. Номер КТ</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Название КТ</td>
                <td>-</td>
            </tr>
            <tr>
                <td>3. Название маршрута</td>
                <td>-</td>
            </tr>
            <tr>
                <td>4. Отклонение: 0 - нет отклонения | 1 - были пропущены предыдущие КТ | 2 - посещена с нарушением порядка | КТ Время задержки/опережения (с)</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">74<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Рейс завершен<br>&nbsp;<br>&nbsp;</td>
                <td>1. Название маршрута</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Тип завершения: 0 - по плану | 1 - с отклонением по времени | 2 - по истечении максимальной длительности | КТ Время задержки/опережения (с)</td>
                <td>-</td>
            </tr>
            <tr>
                <td>3. Список пропущенных обязательных КТ</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">93<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Начало превышения порога скорости &lt;N&gt; км/ч в геозоне &lt;Название геозоны&gt;<br>&nbsp;<br>&nbsp;</td>
                <td>1. Порог</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>2. Название геозоны</td>
                <td>-</td>
            </tr>
            <tr>
                <td>3. Скорость</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td rowspan="4" style="width: 5.4697%;">94<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="4" style="width: 43.4007%;">Окончание превышения порога скорости &lt;N&gt; км/ч в геозоне &lt;Название геозоны&gt;<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td>1. Порог</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>2. Название геозоны</td>
                <td>-</td>
            </tr>
            <tr>
                <td>3. Средняя скорость</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>4. Длительность</td>
                <td>с</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">98<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Окончание стоянки без учета состояния зажигания<br>&nbsp;</td>
                <td>1. Порог</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Длительность</td>
                <td>с</td>
            </tr>
            <tr>
                <td>100</td>
                <td>Начало стоянки (с учётом зажигания)</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>122</td>
                <td>Дополнительное оборудование 2 включено</td>
                <td>1. Наименование доп. оборудования</td>
                <td>-</td>
            </tr>
            <tr>
                <td>123</td>
                <td>Дополнительно оборудование 2 выключено</td>
                <td>1. Наименование доп. оборудования</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">124<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Начало превышения дополнительным оборудованием 2 порога предельного допустимого значения<br>&nbsp;<br>&nbsp;</td>
                <td>1. Название УВ</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Среднее значение</td>
                <td>-</td>
            </tr>
            <tr>
                <td>3. Длительность</td>
                <td>с</td>
            </tr>
            <tr>
                <td>125</td>
                <td>Прекращение превышения дополнительным оборудованием 2 порога предельного допустимого значения</td>
                <td>1. Название УВ</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">132<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Моментальное превышение дополнительным оборудованием 2 предельной нагрузки<br>&nbsp;</td>
                <td>1. Наименование доп. оборудования</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Значение</td>
                <td>-</td>
            </tr>
            <tr>
                <td>222</td>
                <td>Дополнительное оборудование 3 включено</td>
                <td>1. Наименование доп. оборудования</td>
                <td>-</td>
            </tr>
            <tr>
                <td>223</td>
                <td>Дополнительно оборудование 3 выключено</td>
                <td>1. Наименование доп. оборудования</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">224<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Начало превышения дополнительным оборудованием 3 порога предельного допустимого значения<br>&nbsp;<br>&nbsp;</td>
                <td>1. Название УВ</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Среднее значение</td>
                <td>-</td>
            </tr>
            <tr>
                <td>3. Длительность</td>
                <td>с</td>
            </tr>
            <tr>
                <td>225</td>
                <td>Прекращение превышения дополнительным оборудованием 3 порога предельного допустимого значения</td>
                <td>1. Название УВ</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">232<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Моментальное превышение дополнительным оборудованием 3 предельной нагрузки<br>&nbsp;</td>
                <td>1. Наименование доп. оборудования</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Значение</td>
                <td>-</td>
            </tr>
            <tr>
                <td>322</td>
                <td>Дополнительное оборудование 4 включено</td>
                <td>1. Наименование доп. оборудования</td>
                <td>-</td>
            </tr>
            <tr>
                <td>323</td>
                <td>Дополнительно оборудование 3 выключено</td>
                <td>1. Наименование доп. оборудования</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">324<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Начало превышения дополнительным оборудованием 4 порога предельного допустимого значения<br>&nbsp;<br>&nbsp;</td>
                <td>1. Название УВ</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Среднее значение</td>
                <td>-</td>
            </tr>
            <tr>
                <td>3. Длительность</td>
                <td>с</td>
            </tr>
            <tr>
                <td>325</td>
                <td>Прекращение превышения дополнительным оборудованием 4 порога предельного допустимого значения</td>
                <td>1. Название УВ</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">332<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Моментальное превышение дополнительным оборудованием 4 предельной нагрузки<br>&nbsp;</td>
                <td>1. Наименование доп. оборудования</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Значение</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">400<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Изменение заданной температуры рефрижератора<br>&nbsp;<br>&nbsp;</td>
                <td>1. Предыдущая температура</td>
                <td>℃</td>
            </tr>
            <tr>
                <td>2. Установленная температура</td>
                <td>℃</td>
            </tr>
            <tr>
                <td>3. Номер секции</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">401<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Установка заданной температуры рефрижератора<br>&nbsp;</td>
                <td>1. Заданная температура в секции</td>
                <td>℃</td>
            </tr>
            <tr>
                <td>2. Номер секции</td>
                <td>-</td>
            </tr>
            <tr>
                <td>402</td>
                <td>Открытие двери рефрижератора</td>
                <td>-</td>
                <td>-</td>
            </tr>
            <tr>
                <td>403</td>
                <td>Закрытие двери рефрижератора</td>
                <td>1. Сколько времени была открыта дверь</td>
                <td>с</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">404<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Температура в секции рефрижератора за пределами допуска<br>&nbsp;<br>&nbsp;</td>
                <td>1. Температура в секции</td>
                <td>℃</td>
            </tr>
            <tr>
                <td>2. Заданная температура в секции</td>
                <td>℃</td>
            </tr>
            <tr>
                <td>3. Номер секции</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">405<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Температура в секции рефрижератора вернулась в пределы допуска<br>&nbsp;<br>&nbsp;</td>
                <td>1. Температура в секции</td>
                <td>℃</td>
            </tr>
            <tr>
                <td>2. Заданная температура в секции</td>
                <td>℃</td>
            </tr>
            <tr>
                <td>3. Номер секции</td>
                <td>-</td>
            </tr>
            <tr>
                <td>406</td>
                <td>Переключение на повышенные обороты двигателя рефрижератора</td>
                <td>1. Код состояния системы ХОУ. См. справочник Состояние системы ХОУ</td>
                <td>-</td>
            </tr>
            <tr>
                <td>407</td>
                <td>Переключение на пониженные обороты двигателя рефрижератора</td>
                <td>1. Код состояния системы ХОУ. См. справочник Состояние системы ХОУ</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">408<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Ошибка работы рефрижератора<br>&nbsp;</td>
                <td>1. Код типа ХОУ<br>
                1 - ThermoKing SLX<br>
                2 - Carrier Supra/Maxima<br>
                3 - Zanotti<br>
                4 - ThermalMaster 5100/8100<br>
                5 - Carrier Vector 1850
                </td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. Массив кодов ошибок</td>
                <td>-</td>
            </tr>
            <tr>
                <td>409</td>
                <td>Изменение режима работы рефрижератора</td>
                <td>1. Код состояния системы ХОУ. См. справочник Состояние системы ХОУ</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">410<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Нет данных от контроллера рефрижератора<br>&nbsp;</td>
                <td>1. Unix time stamp (мс) последнего сообщения до разрыва данных</td>
                <td>мс</td>
            </tr>
            <tr>
                <td>2. Unix time stamp (мс) первого сообщения после разрыва данных</td>
                <td>мс</td>
            </tr>
            <tr>
                <td rowspan="4" style="width: 5.4697%;">500<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="4" style="width: 43.4007%;">Падение давления в шине<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td>1. номер колеса</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. номер оси</td>
                <td>-</td>
            </tr>
            <tr>
                <td>3. давление</td>
                <td>кПа</td>
            </tr>
            <tr>
                <td>4. отклонение</td>
                <td>кПа</td>
            </tr>
            <tr>
                <td rowspan="4" style="width: 5.4697%;">501<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="4" style="width: 43.4007%;">Повышение давления в колесе<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td>1. номер колеса</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. номер оси</td>
                <td>-</td>
            </tr>
            <tr>
                <td>3. давление</td>
                <td>кПа</td>
            </tr>
            <tr>
                <td>4. отклонение</td>
                <td>кПа</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">502<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Давление в колесе восстановлено<br>&nbsp;</td>
                <td>1. номер колеса</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. номер оси</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="4" style="width: 5.4697%;">503<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="4" style="width: 43.4007%;">Повышение температуры в колесе<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td>1. номер колеса</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. номер оси</td>
                <td>-</td>
            </tr>
            <tr>
                <td>3. температура</td>
                <td>℃</td>
            </tr>
            <tr>
                <td>4. отклонение</td>
                <td>℃</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">504<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Нормализация температуры в колесе<br>&nbsp;</td>
                <td>1. номер колеса</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. номер оси</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">505<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Быстрое падение давления в шине<br>&nbsp;</td>
                <td>1. номер колеса</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. номер оси</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="4" style="width: 5.4697%;">507<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="4" style="width: 43.4007%;">Нет данных от системы контроля давления в шинах<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td>1. номер колеса</td>
                <td>-</td>
            </tr>
            <tr>
                <td>2. номер оси</td>
                <td>-</td>
            </tr>
            <tr>
                <td>3. Unix time stamp (мс) последнего сообщения до разрыва данных</td>
                <td>мс</td>
            </tr>
            <tr>
                <td>4. Unix time stamp (мс) первого сообщения после разрыва данных</td>
                <td>мс</td>
            </tr>
            <tr>
                <td rowspan="6" style="width: 5.4697%;">603<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="6" style="width: 43.4007%;">Превышение предельного скоростного режима<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td>1. Unix timestamp UTC начало периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Unix timestamp UTC окончание периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td>3. Средняя скорость за период</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>4. Разрешённая скорость по ПДД</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>5. Максимальная скорость за период</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>6. Массив кодов погодных условий (см. справочинк Погодные условия)</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="6" style="width: 5.4697%;">606<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="6" style="width: 43.4007%;">Превышение допустимого скоростного режима<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td>1. Unix timestamp UTC начало периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Unix timestamp UTC окончание периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td>3. Средняя скорость за период</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>4. Разрешённая скорость по ПДД</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>5. Максимальная скорость за период</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>6. Массив кодов погодных условий (см. справочинк Погодные условия)</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">607<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Кратковременное превышение предельного скоростного режима<br>&nbsp;<br>&nbsp;</td>
                <td>1. Unix timestamp UTC</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Скорость</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>3. Массив кодов погодных условий (см. справочинк Погодные условия)</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="3" style="width: 5.4697%;">608<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="3" style="width: 43.4007%;">Кратковременное превышение допустимого скоростного режима<br>&nbsp;<br>&nbsp;</td>
                <td>1. Unix timestamp UTC</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Cкорость</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>3. Массив кодов погодных условий (см. справочинк Погодные условия)</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">609<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Превышение порога положительного ускорения<br>&nbsp;</td>
                <td>1. Ускорение</td>
                <td>м/с2</td>
            </tr>
            <tr>
                <td>2. Массив кодов погодных условий (см. справочинк Погодные условия)</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">610<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Превышение порога отрицательного ускорения<br>&nbsp;</td>
                <td>1. Ускорение</td>
                <td>м/с2</td>
            </tr>
            <tr>
                <td>2. Массив кодов погодных условий (см. справочинк Погодные условия)</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">611<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Превышение порога бокового ускорения<br>&nbsp;</td>
                <td>1. Ускорение</td>
                <td>м/с2</td>
            </tr>
            <tr>
                <td>2. Массив кодов погодных условий (см. справочинк Погодные условия)</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">612<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Превышение порога вертикального ускорения<br>&nbsp;</td>
                <td>1. Боковое ускорение</td>
                <td>м/с2</td>
            </tr>
            <tr>
                <td>2. Массив кодов погодных условий (см. справочинк Погодные условия)</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">613<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Превышение допустимой скорости для вхождения в поворот<br>&nbsp;</td>
                <td>1. Скорость</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>2. Массив кодов погодных условий (см. справочинк Погодные условия)</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">614<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Превышение предельной скорости для вхождения в поворот<br>&nbsp;</td>
                <td>1. Скорость</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>2. Массив кодов погодных условий (см. справочинк Погодные условия)</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="6" style="width: 5.4697%;">616<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td rowspan="6" style="width: 43.4007%;">Нарушение ПДД. Превышение скоростного режима<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;</td>
                <td>1. Unix timestamp UTC начало периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Unix timestamp UTC окончание периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td>3. Средняя скорость за период</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>4. Разрешённая скорость по ПДД</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>5. Максимальная скорость за период</td>
                <td>км/ч</td>
            </tr>
            <tr>
                <td>6. Массив кодов погодных условий (см. справочинк Погодные условия)</td>
                <td>-</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">617<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Продолжительная работа двигателя на холостом ходу<br>&nbsp;</td>
                <td>1. Unix timestamp UTC начало периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Unix timestamp UTC окончание периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">620<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Движение на непрогретом двигателе<br>&nbsp;</td>
                <td>1. Unix timestamp UTC начало периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Unix timestamp UTC окончание периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">621<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Движение на перегретом двигателе<br>&nbsp;</td>
                <td>1. Unix timestamp UTC начало периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Unix timestamp UTC окончание периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">622<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Движение на пониженных оборотах<br>&nbsp;</td>
                <td>1. Unix timestamp UTC начало периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Unix timestamp UTC окончание периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">624<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Движение на повышенных оборотах<br>&nbsp;</td>
                <td>1. Unix timestamp UTC начало периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Unix timestamp UTC окончание периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td rowspan="2" style="width: 5.4697%;">632<br>&nbsp;</td>
                <td rowspan="2" style="width: 43.4007%;">Отсутсвуют валидные GPS-данные<br>&nbsp;</td>
                <td>1. Unix timestamp UTC начало периода</td>
                <td>с</td>
            </tr>
            <tr>
                <td>2. Unix timestamp UTC окончание периода</td>
                <td>с</td>
            </tr>
        </tbody>
        </table>  
        Справочник Погодные условия
        <table border=1><tr><th>Код</th><th>Описание</th></tr>
            <tr>
              <td>0</td>
              <td>Небольшой дождь</td>
            </tr>
            <tr>
              <td>1</td>
              <td>Дождь</td>
            </tr>
            <tr>
              <td>2</td>
              <td>Сильный дождь</td>
            </tr>
            <tr>
              <td>3</td>
              <td>Сильный дождь, гроза</td>
            </tr>
            <tr>
              <td>4</td>
              <td>Дождь со снегом</td>
            </tr>
            <tr>
              <td>5</td>
              <td>Небольшой снег</td>
            </tr>
            <tr>
              <td>6</td>
              <td>Снег</td>
            </tr>
            <tr>
              <td>7</td>
              <td>Снегопад</td>
            </tr>
            <tr>
              <td>8</td>
              <td>Слабый гололед</td>
            </tr>
            <tr>
              <td>9</td>
              <td>Гололед</td>
            </tr>
            <tr>
              <td>10</td>
              <td>Гололедица</td>
            </tr>
            <tr>
              <td>11</td>
              <td>Туман</td>
            </tr>
            <tr>
              <td>12</td>
              <td>Светлое время суток</td>
            </tr>
            <tr>
              <td>13</td>
              <td>Темное время суток</td>
            </tr>
        </table>  
        Справочник Состояние системы ХОУ
        <table border=1><tr><th>Код</th><th>Описание</th></tr>
            <tr>
              <td>4</td>
              <td>Оттайка</td>
            </tr>
            <tr>
              <td>3</td>
              <td>Охлаждение</td>
            </tr>
            <tr>
              <td>2</td>
              <td>Нагрев</td>
            </tr>
            <tr>
              <td>1</td>
              <td>Двигатель выключен</td>
            </tr>
        </table>
        </details>
      properties:
        type:
          type: integer
          description: Идентификатор типа события
        latitude:
          type: number
          format: double
        longitude:
          type: number
          format: double
        parameters:
          description: event parameters
          type: array
          items:
            type: string
        timestamp:
          description: дата и время события (unix timestamp ms)
          type: integer
          format: int64
        eventAddress:
          description: адрес события
          type: string

    Event2:
      description: События
      properties:
        type:
          type: integer
          description: Идентификатор типа события
        latitude:
          type: number
          format: double
        longitude:
          type: number
          format: double
        parameters:
          description: event parameters
          type: array
          items:
            type: string
        timestamp:
          description: дата и время события (unix timestamp ms)
          type: integer
          format: int64
        eventAddress:
          description: адрес события
          type: string
        duration:
          description: Длительность события
          type: integer
        driverId:
          description: uuid водителя
          type: string
        geozoneIds:
          description: uuid геозон в которые вошло событие
          type: array
          items:
            type: string

    obj_id:
      description: 'Идентификатор КО'
      type: string
      format: uuid

    date:
      description: 'Дата'
      type: string
      format: date-time

        #    timeseriesQueryParams:
        #      description: 'Требуемые наборы данных'
        #      type: object
        #      properties:
        #        queryDataSets:
        #          $ref: '#/components/schemas/fuelQueryParams' # необязательный набор параметров
        #
        #    fuelQueryParams:
        #      description: 'Необязательный набор запрашиваемых данных по топливу. Если не передан, то соответствующий ответ не формируется'
        #      type: object
        #      properties:
        #        sensorDataTimeSeries: # Если не передан то не формируется.
        #          description: 'Необязательный набор требуемых полей сырых данных. Если не передан, то соответствующий набор не формируется.'
        #          type: object
        #          properties:
        #            sensor_ids:
        #              description: 'Необязательный массив требуемых ID датчиков. Пустой массив = все датчики из профиля'
        #              type: array
        #              items:
        #                type: integer
        #                minItems: 1
        #                maxItems: 254
        #              example: [1,2,3]
        #            llsCode:
        #              description: 'Необязательный признак необходимости поля LLS.CODE "код уровня". Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: true
        #            llsTemp:
        #              description: 'Необязательный признак необходимости поля LLS.TEMP "температура датчика". Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #            llsStatus:
        #              description: 'Необязательный признак необходимости поля LLS.STATUS "статус датчика". Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #        volumeByTankTimeSeries:
        #          description: 'Необязательный набор требуемых временных рядов по объему в разрезе емкости. Если не передан, то соответствующий набор не формируется.'
        #          type: object
        #          properties:
        #            tank_ids: # массив id емкостей. Не обязательный. Если не передан, или передан пустой, то формировать ответ по всем id емкостей из профиля КО
        #              description: 'List of tank ids | Идентификаторы ёмкостей'
        #              type: array
        #              items:
        #                type: integer
        #              example: [1, 2]
        #            rawVolume:
        #              description: 'Необязательный признак необходимости возврата временного ряда сырых значений объема. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: true
        #            smoothedVolume:
        #              description: 'Необязательный признак необходимости возврата временного ряда сглаженных значений объема. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #        volumeByObjectTimeSeries:
        #          description: 'Необязательный набор требуемых временных рядов по суммарному объему. Если не передан, то соответствующий набор не формируется.'
        #          type: object
        #          properties:
        #            rawVolume:
        #              description: 'Необязательный признак необходимости возврата временного ряда сырых значений суммарного объема. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: true
        #            smoothedVolume:
        #              description: 'Необязательный признак необходимости возврата временного ряда сглаженных значений суммарного объема. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #        aggregatedByTank:
        #          description: 'Необязательный набор требуемых данных в разрезе емкости'
        #          type: object
        #          properties:
        #            minRawVolume:
        #              description:  'Необязательный признак необходимости возврата минимального за период сырого значения объема в емкости. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #            maxRawVolume:
        #              description:  'Необязательный признак необходимости возврата максимального за период сырого значения объема в емкости. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #            avgRawVolume:
        #              description:  'Необязательный признак необходимости возврата среднего за период сырого значения объема в емкости. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #            minSmoothedVolume:
        #              description:  'Необязательный признак необходимости возврата минимального за период сглаженного значения объема в емкости. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #            maxSmoothedVolume:
        #              description:  'Необязательный признак необходимости возврата максимального за период сглаженного значения объема в емкости. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #            avgSmoothedVolume:
        #              description:  'Необязательный признак необходимости возврата среднего за период сглаженного значения объема в емкости. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #        aggregatedByObject:
        #          description: 'Требуемые наборы данных суммарно по всем емкостям'
        #          type: object
        #          properties:
        #            minSumRawVolume:
        #              description:  'Необязательный признак необходимости возврата минимального суммарного за период сырого значения объема. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #            maxSumRawVolume:
        #              description:  'Необязательный признак необходимости возврата максимального суммарного за период сырого значения объема. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #            avgSumRawVolume:
        #              description:  'Необязательный признак необходимости возврата среднего суммароного за период сырого значения объема. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #            minSumSmoothedVolume:
        #              description:  'Необязательный признак необходимости возврата минимального суммарного за период сырого значения объема. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #            maxSumSmoothedVolume:
        #              description:  'Необязательный признак необходимости возврата максимального суммарного за период сырого значения объема. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #            avgSumSmoothedVolume:
        #              description:  'Необязательный признак необходимости возврата среднего суммароного за период сырого значения объема. Если не передан, то false - не возвращать'
        #              type: boolean
        #              example: false
        #
        #    timeseriesResponse:
        #      description: 'Необязательные наборы возвращаемых данных'
        #      type: object
        #      required:
        #        - obj_id
        #        - dateFrom
        #        - dateTo
        #      properties:
        #        obj_id:
        #          $ref: '#/components/schemas/obj_id'
        #        dateFrom:
        #          description: 'Дата начала периода'
        #          type: string
        #          format: date-time
        #        dateTo:
        #          description: 'Дата окончания периода'
        #          type: string
        #          format: date-time
        #        data:
        #          $ref: '#/components/schemas/fuelResponse' # необязательный набор возвращаемых данных
        #
        #    fuelResponse:
        #      type: object
        #      properties:
        #        timeSeries:
        #          type: array
        #          items:
        #            type: array
        #            description: ''
        #            items:
        #              type: object
        #              properties:
        #                eventDate:
        #                  description: 'Метка времени события'
        #                  type: integer
        #                sensorsTimeSeries: # Если не передан то не формируется.
        #                  description: 'Необязательный набор полей сырых данных.'
        #                  type: array
        #                  items:
        #                    description: 'Необязательный массив требуемых ID датчиков. Пустой массив = все датчики из профиля'
        #                    type: object
        #                    properties:
        #                      terminalId:
        #                        description: 'Id терминала-источника данных'
        #                        type: integer
        #                      sensorId:
        #                        description: 'Id ДУТ'
        #                        type: integer
        #                      llsCode:
        #                        description: 'LLS.CODE - код уровня'
        #                        type: integer
        #                      llsTemp:
        #                        description: 'LLS.TEMP - температура датчика'
        #                        type: integer
        #                      llsStatus:
        #                        description: 'LLS.STATUS - статус датчика'
        #                        type: integer
        #                volumeByTankTimeSeries:
        #                  description: 'Необязательный набор обработанных данных.'
        #                  type: array
        #                  items:
        #                    description: 'Необязательный набор требуемых данных в разрезе емкости'
        #                    type: object
        #                    properties:
        #                      tank_id:
        #                        description: 'ID емкости'
        #                        type: integer
        #                      rawVolume:
        #                        description: 'Необязательный признак необходимости возврата сырого значения объема. Если не передан, то false - не возвращать'
        #                        type: number
        #                      smoothedVolume:
        #                        description: 'Необязательный признак необходимости возврата сглаженного значения объема. Если не передан, то false - не возвращать'
        #                        type: number
        #                        example: false
        #                volumeByObjectTimeSeries:
        #                  description: 'Временной ряд суммарного объема'
        #                  type: array
        #                  #required:
        #                  items:
        #                    description: 'Необязательный набор требуемых данных в разрезе емкости'
        #                    type: object
        #                    properties:
        #                      rawVolume:
        #                        description: 'Необязательный признак необходимости возврата сырого значения объема. Если не передан, то false - не возвращать'
        #                        type: number
        #                      smoothedVolume:
        #                        description: 'Необязательный признак необходимости возврата сглаженного значения объема. Если не передан, то false - не возвращать'
        #                        type: number
        #                        example: false
        #
        #        aggregatedByTank:
        #          description: 'Аггрегированные данные в разрезе емкостей'
        #          type: array
        #          items:
        #            type: object
        #            description: 'Аггрегированные данные в разрезе емкостей'
        #            properties:
        #              tank_id:
        #                description:  'Id емкости.'
        #                type: integer
        #              minRawVolume:
        #                description:  'Минимальное за период сырое значение объема.'
        #                type: number
        #              maxRawVolume:
        #                description:  'Максимальное за период сырое значение объема.'
        #                type: number
        #              avgRawVolume:
        #                description:  'Среднее за период сырое значение объема.'
        #                type: number
        #              minSmoothedVolume:
        #                description:  'Минимальное за период сглаженное значение объема.'
        #                type: number
        #              maxSmoothedVolume:
        #                description:  'Максимальное за период сглаженное значение объема.'
        #                type: number
        #              avgSmoothedVolume:
        #                description:  'Среднее за период сглаженное значение объема.'
        #                type: number
        #
        #        aggregatedByObject:
        #          description: 'Аггрегированные данные в разрезе КО'
        #          type: object
        #          properties:
        #            minRawVolume:
        #              description:  'Минимальное за период сырое значение объема.'
        #              type: number
        #            maxRawVolume:
        #              description:  'Максимальное за период сырое значение объема.'
        #              type: number
        #            avgRawVolume:
        #              description:  'Среднее за период сырое значение объема.'
        #              type: number
        #            minSmoothedVolume:
        #              description:  'Минимальное за период сглаженное значение объема.'
        #              type: number
        #            maxSmoothedVolume:
        #              description:  'Максимальное за период сглаженное значение объема.'
        #              type: number
        #            avgSmoothedVolume:
        #              description:  'Среднее за период сглаженное значение объема.'
      #              type: number

    GearDuration:
      description: Продолжительность работы по передачам
      type: object
      properties:
        g1:
          description: продолжительность работы на передаче 1 (ч), -1, если значение не определено
          type: number
        g2:
          description: продолжительность работы на передаче 2 (ч), -1, если значение не определено
          type: number
        g3:
          description: продолжительность работы на передаче 3 (ч), -1, если значение не определено
          type: number
        g4:
          description: продолжительность работы на передаче 4 (ч), -1, если значение не определено
          type: number
        g5:
          description: продолжительность работы на передаче 5 (ч), -1, если значение не определено
          type: number
        g6:
          description: продолжительность работы на передаче 6 (ч), -1, если значение не определено
          type: number
        noGear:
          description: продолжительность работы на неизвестной передаче (ч), -1, если значение не определено
          type: number
        totalGear:
          description: суммарная продолжительность работы по передачам всего (ч), -1, если значение не определено
          type: number
        neutralGear:
          description: продолжительность работы на нейтрали (ч), -1, если значение не определено
          type: number
        limpHomeGear:
          description: продолжительность работы в аварийном режиме коробки передач (ч), -1, если значение не определено
          type: number

    totalErrorsWork:
      description: |-
        Продолжительность работы с ошибками  
        errorsDVS - двигатель  
        errorsKPP - трансмиссия
      type: object
      properties:
        errors:
          description: |-
            Ошибки и длительность работы с ними  
            Хэш пар код: длительность (с)  
            Пример:  
            "errors": {  
              "error1": 100,  
              "error2": 200  
            }
          type: object
        noErrors:
          description: Время работы без ошибок (с). -1, если значение не определено
          type: number

    uniData:
      description: Данные по универсальному входу
      type: object
      properties:
        number:
          description: Номер универсального входа
          type: integer
        alwaysOn:
          description: Всегда включен
          type: boolean
        uniInput:
          $ref: '#/components/schemas/uniInput'


    uniInput:
      description: Настройки универсального входа
      type: object
      properties:
        uniName:
          description: наименование оборудования
          type: string
        uniMinCheck:
          description: учитывать состояние включения доп.оборудования (true - учитывать, fasle - не учитывать)
          type: boolean
        uniMin:
          description: порог включения (минимальное значение измеряемой величины)
          type: number
        uniMinVoltage:
          description: напряжение, соответсвующее минимальному значению измеряемой величины (В)
          type: number
        uniCoef:
          description: поправочный коэффициент
          type: number
        uniMaxVoltage:
          description: напряжение, соответсвующее максимальному значению измеряемой величины (В)
          type: number
        uniState:
          description: состояние универсального входа (true - используется, false - не используется)
          type: boolean
        uniPrecisionCoef:
          description: коэффициент точности (для получения измеряемой величины значение на УВ необходимо сдвинуть вправо на указанное количество знаков)
          type: number
        uniPrecision:
          description: количество знаков после запятой (для получения измеряемой величины значение на УВ необходимо умножить на указанное число)
          type: integer
        number:
          description: номер УВ
          type: integer
        uniMax:
          description: порог предельно допустимого значения
          type: number
        uniMaxCheck:
          description: учитывать превышение допустимого значения (true - учитывать, fasle - не учитывать)
          type: boolean
        uniEquipmentType:
          description: тип оборудования (0 - не указано, 1 - датчик включенных фар, 2 - датчик ремня безопасности)
          type: integer
          enum: [ 0, 1, 2 ]
        uniType:
          description: тип универсального входа (0 - потенциальный, 1 - аналоговый, 2 - импульсный)
          type: integer
          enum: [ 0, 1, 2 ]


    intervalArray:
      description: |-
        Массив интервала  
        [1] - начало интервала unix timestamp (ms),  
        [2] - конец интервала unix timestamp (ms)
      type: array
      items:
        type: integer
        format: int64

    publicLinkParams:
      required:
        - reports
        - vehicles
        - name
      description: |-
        Параметры публичной ссылки
      type: object
      properties:
        reports:
          description: 'Массив типов отчётов'
          type: array
          items:
            type: string
            enum:
              - track
              - location
        locale:
          description: 'Локаль, с которой открывается отчёт в интерфейсе'
          type: string
          enum:
            - ru
            - en
            - sp
            - pt
            - ch
        expire:
          description: 'Срок действия ссылки. ISO Date в формате YYYY-MM-DDTHH:MM:SS.fffZ'
          type: string
        vehicles:
          description: 'Массив идентификаторов ТС, для которых строится отчёт'
          type: array
          items:
            type: string
        name:
          description: 'Наименование публичной ссылки. Будет отборажаться пользователю в списке ссылок в интерфейсе Omnicomm Online'
          type: string
        settings:
          description: 'Настройки отчёта'
          type: object
          properties:
            vehicleChoose:
              description: |-
                Разрешать выбор ТС.  
                Если true, пользователь сможет отмечать/снимать отметку с ТС в дереве из набора vehicles.  
                Если не передан, устанавливается по умолчанию = false
              type: boolean
            dateChoose:
              description: |-
                Разрешать изменение периода.  
                Если true, пользователь сможет изменять период отчёта в рамках доступного периода.  
                Если не передан, устанавливается по умолчанию = false
              type: boolean
            dateRel:
              description: |-
                Относительный период в минутах.  
                Доступный период отчёта будет рассчитываться, как <текущий момент в UTC>(минуты) минус dateRel минут.
              type: integer
            dateBegin:
              description: |-
                Начало доступного периода отчёта.  
                UTC unix timestamp в секундах ЛИБО UTC unix timestamp в миллисекундах ЛИБО ISO Date.  
                Если не передан, устанавливается по умолчанию 00:00 текущей даты в UTC.  
                Игнорируется, если передан dateRel
              type: string
            dateEnd:
              description: |-
                Окончание доступного периода отчёта.  
                UTC unix timestamp в секундах ЛИБО UTC unix timestamp в миллисекундах ЛИБО ISO Date.  
                Если не передан, устанавливается по умолчанию 23:59 текущей даты в UTC.  
                Игнорируется, если передан dateRel
              type: string
      example:
        reports:
          - track
        locale: ru
        expire: '2019-12-30T21:00:00.000Z'
        vehicles:
          - 113000001
          - 113000002
          - 113000003
        name: api test link
        settings:
          vehicleChoose: true
          dateChoose: true
          dateRel: 1440

    tankType:
      description: |-
        Тип емкости:  
        ordinary - расходная (используется для работы двигателя ТС)  
        delivery - нерасходная со счётчиком (используется для транспортировки без расхода двигателем ТС)  
        delivery_wo_counter - нерасходная без счётчика
      type: array
      items:
        type: string
        enum: [ 'ordinary', 'delivery', 'delivery_wo_counter' ]

    fuelLevelsData:
      type: array
      items:
        type: array
        description: |-
          [1] eventDate - timestamp сек,  
          [2] rawVolume - сырой объём топлива в литрах,  
          [3] smoothVolume - сглаженный объём топлива в литрах
        items:
          type: number

    oneThingStatisticsData:
      type: object
      properties:
        type:
          $ref: '#/components/schemas/tankType'
        tankName:
          description: 'Имя емкости'
          type: string
        initialVolume:
          description: 'Объем на начало периода отчета, л'
          type: number
        endVolume:
          description: 'Объем на конец периода отчета, л'
          type: number
        minVolume:
          description: 'Минимальный объём за период отчета'
          type: number
        maxVolume:
          description: 'Максимальный объём за период отчета'
          type: number
        consumption:
          description: 'Расход за период отчета, л'
          type: number
        possibleDraining:
          description: 'Возможный слив, л'
          type: number
        opVolumes:
          allOf:
            - $ref: '#/components/schemas/opVolumes'
            - type: object
          properties:
            divergence:
              description: 'Суммарное возможное расхождение показаний между ДУТ и счетчиком выдач (для      нерасходной емкости со счетчиком), л'
              type: number


    multipleThingsStatisticsData:
      type: object
      properties:
        avgConsumption:
          description: 'Средний фактический расход из всех расходных емкостей всех КО за период отчета, л'
          type: number
        totalConsumption:
          description: 'Суммарный расход из всех расходных емкостей всех КО за период отчета, л'
          type: number
        totalPossibleDraining:
          description: 'Суммарный возможный слив, л'
          type: number
        opVolumes:
          allOf:
            - $ref: '#/components/schemas/opVolumes'
            - type: object
          properties:
            divergence:
              description: 'Суммарное возможное расхождение показаний между ДУТ и счетчиком выдач (для        нерасходной емкости со счетчиком), л'
              type: number

    oneThingStatisticsResponse:
      type: object
      description: 'При запросе по 1 ТС. Статистические данные по топливным событиям в разрезе по емкостям. Если отчет построен по нескольким емкостям, то вернется соответствующее количество объектов: 1: {}, 2: {}, 3: {} и тд.'
      properties:
        1:
          $ref: '#/components/schemas/oneThingStatisticsData'
        2:
          $ref: '#/components/schemas/oneThingStatisticsData'
        3:
          $ref: '#/components/schemas/oneThingStatisticsData'
        4:
          $ref: '#/components/schemas/oneThingStatisticsData'
        5:
          $ref: '#/components/schemas/oneThingStatisticsData'
        6:
          $ref: '#/components/schemas/oneThingStatisticsData'


    multipleThingsStatisticsResponse:
      type: object
      description: 'При запросе по нескольим ТС. Статистические данные по топливным событиям в разрезе по типам емкостей. Если отчет построен по нескольким типам емкостей, то вернется соответствующее количество объектов'
      properties:
        ordinary:
          $ref: '#/components/schemas/multipleThingsStatisticsData'
        delivery:
          $ref: '#/components/schemas/multipleThingsStatisticsData'
        delivery_wo_counter:
          $ref: '#/components/schemas/multipleThingsStatisticsData'

    fromToRequest:
      type: object
      properties:
        from:
          description: 'Дата/время с которого выбираются топливные события (timestamp, сек)'
          type: integer
        to:
          description: 'Дата/время по которое выбираются топливные события (timestamp, сек)'
          type: integer

    thingIds:
      type: object
      properties:
        thingIds:
          description: 'Список идентификаторов (UUID) ТС'
          type: array
          items:
            type: string

    opVolumes:
      description: 'Объемы операций за период'
      type: object
      properties:
        refueling:
          description: 'Суммарный объем заправок (для расходной емкости), л'
          type: number
        filling:
          description: 'Суммарный объем заливов (для нерасходной емкости), л'
          type: number
        draining:
          description: 'Суммарный объем сливов (для расходной емкости/нерасходной емкости ссчетчиком), л'
          type: number
        unloading:
          description: 'Суммарный объем разгрузок (для нерасходной емкости без счетчика), л'
          type: number
        deliverie:
          description: 'Суммарный объем выдач (для нерасходной емкости со счетчиком), л'
          type: number
        refueling_in_delivery:
          description: 'Заправка во время выдачи, л'
          type: number
        draining_in_delivery:
          description: 'Слив во время выдачи, л'
          type: number
    params:
      type: object
      properties:
        from:
          description: 'Дата/время начала отчета, timestamp миллисекунды'
          type: integer
        to:
          description: 'Дата/время конца отчета, timestamp миллисекунды'
          type: integer
        tz:
          description: 'Указывать Europe/Moscow или другую геозону из списка http:.omnicomm.ru/display/DEV/fas_analytical_server_core.timezones'
          type: string
        flexibleReportId:
          description: 'ID гибкого отчета'
          type: integer
        ts_ids:
          description: 'Массив ID транспортных средств. Если будет отсутствовать впустой ответ по отчету'
          type: array
          items:
            type: integer
        method:
          description: 'Всегда должен содержать строку POST. Если будет отсутстввыстваится в POST'
          type: string

    DriversTree:
      description: Дерево водителей
      type: object
      properties:
        groupName:
          description: Наименование группы водителей
          type: string
        groupId:
          description: ID группы
          type: integer
        parentGroupId:
          description: ID родительской группы
          type: integer
        objects:
          $ref: "#/components/schemas/Drivers"
        children:
          description: Вложенные группы
          type: array
          items:
            $ref: "#/components/schemas/DriversTree"

    Drivers:
      description: Описание элемента дерева ТС
      type: array
      items:
        type: object
        properties:
          uuid:
            description: UUID водителя
            type: string
            format: uuid
          driverCode:
            description: iButton водителя
            type: string
          firstName:
            description: Имя водителя
            type: string
          surname:
            description: Фамилия водителя
            type: string
          patronymic:
            description: Отчество водителя
            type: string
          birthDate:
            description: Дата рождения unixtimestamp (сек)
            type: integer
          categories:
            description: Категория прав
            type: string
          phone:
            description: Телефон
            type: string
          lastAssignmentDate:
            description: Дата последней регистрации unixtimestamp (сек)
            type: integer
          cardIds:
            description: Список ID карт водителя для тахографа
            type: array
            items:
              type: string
          employmentDate:
            description: Дата поступления на работу unixtimestamp (сек)
            type: integer
          dismissalDate:
            description: Дата увольнения unixtimestamp (сек)
            type: integer
          comment:
            description: Комментарий
            type: string